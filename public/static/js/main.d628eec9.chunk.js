(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{100:function(e,t,n){"use strict";n.r(t);n(84);var a,c=n(1),i=n(27),s=n.n(i),r=n(18),l=n(15),o=n(11),d=n(8),j=n(60),u=n(21),b=Object(j.a)({reducerPath:"MangaApi",baseQuery:Object(u.d)({baseUrl:"/api"}),endpoints:function(e){return{allMangas:e.query({query:function(e){return{url:"/mangas",params:e}}}),getManga:e.query({query:function(e){return{url:"/doujin",params:{id:e}}}}),search:e.query({query:function(e){return{url:"/search",params:"string"===typeof e?{q:e}:e}}}),saveManga:e.query({query:function(e){return{url:"/save",params:{id:e}}}}),removeManga:e.query({query:function(e){return{url:"/remove",params:{id:e}}}})}}}),h=b,m=b.useAllMangasQuery,O=b.useGetMangaQuery,x=(b.useLazySearchQuery,b.useSearchQuery),f=(b.useLazyAllMangasQuery,b.useLazyGetMangaQuery,b.usePrefetch,b.useLazySaveMangaQuery),g=(b.useSaveMangaQuery,b.useLazyRemoveMangaQuery),p=(b.useRemoveMangaQuery,Object(j.a)({reducerPath:"HentaiApi",baseQuery:Object(u.d)({baseUrl:"/api/onlineapi"}),endpoints:function(e){return{getDoujin:e.query({query:function(e){return{url:"/doujin",params:{id:e}}}}),search:e.query({query:function(e){return{url:"/search",params:"string"===typeof e?{q:e}:e}}}),getHomepage:e.query({query:function(e){return{url:"/homepage",params:e}}})}}})),v=p,y=p.useGetHomepageQuery,w=p.useGetDoujinQuery,N=(p.useLazyGetHomepageQuery,p.useLazyGetDoujinQuery,p.useLazySearchQuery,p.usePrefetch,p.useSearchQuery),S=Object(d.a)({reducer:(a={},Object(o.a)(a,h.reducerPath,h.reducer),Object(o.a)(a,v.reducerPath,v.reducer),a),middleware:function(e){return e().concat(h.middleware,v.middleware)}}),k=(r.e,S),C=n(81),L=n(45),P=n(83),F=n(10),H=n(7),R=n(113),E=n(111),M=n(35),q=n.n(M),z=n(124),I=n(125),Q=n(110),U=n(2),B=function(e){return Object(U.jsx)(U.Fragment,{children:q.a.times(e.num||10,(function(e){return Object(U.jsxs)(z.a,{className:"bg-secondary",style:{width:"12rem"},children:[Object(U.jsx)(z.a.Img,{variant:"top",height:"190",src:"/loading.gif"}),Object(U.jsx)(z.a.Body,{className:"py-1 px-2",children:Object(U.jsx)(I.a,{as:z.a.Title,animation:"wave",children:Object(U.jsx)(I.a,{className:"mx-auto",bg:"info",xs:12})})})]},e)}))})},D=function(){return Object(U.jsx)("div",{style:{height:"100vh","--bs-bg-opacity":".5",width:"100vh"},className:"d-flex position-fixed top-0 start-0 w-100 align-items-center justify-content-center",children:Object(U.jsx)(Q.a,{variant:"primary",animation:"border",role:"status",children:Object(U.jsx)("span",{className:"visually-hidden",children:"Loading..."})})})},G=n(127),A=n(26),T=function(e){var t=e.page,n=e.next,a=e.refresh,c=e.blur,i=e.current;console.log(i);return Object(U.jsxs)(G.a,{className:"justify-content-center m-0",children:[Object(U.jsx)(G.a.Item,{onClick:a,className:"me-3",children:Object(U.jsx)(A.h,{})}),c&&Object(U.jsx)(G.a.Item,{onClick:function(){c&&c[1]()},className:"me-3",children:c.slice()[0]?Object(U.jsx)(A.c,{}):Object(U.jsx)(A.d,{})}),Object(U.jsx)(G.a.First,{onClick:function(){return n(new URLSearchParams({page:"1"}))},disabled:1===i}),Object(U.jsx)(G.a.Prev,{onClick:function(){return n(new URLSearchParams({page:i-1}))},disabled:1===i}),t&&function(){var e=[],a=i,c=i+10;c>(null===t||void 0===t?void 0:t.numPages)&&(c=(null===t||void 0===t?void 0:t.numPages)+1);for(var s=function(t){e.push(Object(U.jsx)(G.a.Item,{onClick:function(){return n(new URLSearchParams({page:t}))},active:i===t,disabled:i===t,children:t},t))},r=a;r<c;r++)s(r);return e}(),Object(U.jsx)(G.a.Next,{onClick:function(){return n(new URLSearchParams({page:i+1}))},disabled:(null===t||void 0===t?void 0:t.numPages)===i}),Object(U.jsx)(G.a.Last,{onClick:function(){return n(new URLSearchParams({page:null===t||void 0===t?void 0:t.numPages}))},disabled:(null===t||void 0===t?void 0:t.numPages)===i})]})},Y=n(5),_=n.n(Y),J=n(112);function W(e){var t={};return e.forEach((function(e,n){t[n]=e})),t}var Z={JAPANESE:"/japan_logo.svg",CHINESE:"/china_logo.svg",ENGLISH:"/us_logo.svg"};var X=function(e){var t,n,a,i,s,r,o=e.doujin,d=e.blur,j=e.refetch,u=Object(E.a)(!1),b=Object(H.a)(u,2),h=b[0],m=b[1],O=null===(t=o.thumbnail)||void 0===t?void 0:t.url;(null===(n=O)||void 0===n?void 0:n.match(/https?/i))&&(O="/api/fetch?url=".concat(null===(a=o.thumbnail)||void 0===a?void 0:a.url));var x=null===(i=o.tags)||void 0===i||null===(s=i.all)||void 0===s||null===(r=s.find((function(e){return e.type.match(/language/i)&&!e.name.match(/translated/i)})))||void 0===r?void 0:r.name,p=Z[x.toUpperCase()],v=f({refetchOnFocus:!1,refetchOnReconnect:!1}),y=Object(H.a)(v,2),w=y[0],N=y[1],S=g({refetchOnFocus:!1,refetchOnReconnect:!1}),k=Object(H.a)(S,2),C=k[0],P=k[1];return Object(c.useEffect)((function(){N.isSuccess&&j()}),[N,o,j]),Object(c.useEffect)((function(){P.isSuccess&&j()}),[P,o,j]),Object(U.jsxs)(z.a,{className:"bg-secondary position-relative",style:{width:"12rem"},children:[p&&Object(U.jsx)(J.a,{height:20,width:30,src:p,alt:x,className:"position-absolute top-0 start-0",style:{zIndex:5e3}}),Object(U.jsx)(z.a.Img,{variant:"top",height:"300",src:O,style:{filter:d[0]?"blur(2px)":void 0}}),Object(U.jsxs)("div",{style:{zIndex:5e3},className:"position-absolute top-0 end-0",children:[Object(U.jsx)(L.a,{onClick:function(){(null===o||void 0===o?void 0:o.availableOffline)?C(o.id.toString(),!1):w(o.id.toString(),!1)},className:"me-2 p-1",variant:"primary",children:Object(U.jsx)("small",{children:(null===o||void 0===o?void 0:o.availableOffline)?"Remove":"Download"})}),Object(U.jsx)(l.b,{className:"btn btn-danger p-1",to:"/manga/".concat(o.id),children:Object(U.jsx)("small",{children:"Read"})})]}),Object(U.jsx)(l.b,{onMouseOver:function(){m(!0)},onMouseOut:function(){m(!1)},className:"stretched-link",to:"/online/"+o.id,children:Object(U.jsx)(z.a.Body,{className:"pb-0 pt-1 position-absolute start-0 w-100 bg-dark bg-opacity-50 bottom-0",children:Object(U.jsx)(z.a.Title,{style:{fontSize:"16px",transition:"0.2s"},className:_()("text-center text-white text-decoration-underline",!h&&"text-truncate"),children:o.titles.pretty})})})]})},K=function(){var e,t=Object(E.a)(!0),n=Object(l.c)(new URLSearchParams({page:"1"})),a=Object(H.a)(n,2),c=a[0],i=a[1],s=m({page:c.get("page")||1}),r=function(){return Object(U.jsx)(T,{refresh:function(){s.refetch()},next:i,page:null===s||void 0===s?void 0:s.data,blur:t,current:Number(c.get("page")||1)})};return Object(U.jsxs)(R.a,{className:"d-flex flex-column gap-2 py-2",children:[Object(U.jsx)(r,{}),Object(U.jsx)("div",{className:"d-flex flex-wrap gap-2 justify-content-center",children:s.isSuccess&&!s.isFetching?null===(e=s.data)||void 0===e?void 0:e.doujins.map((function(e){return Object(U.jsx)(X,{refetch:s.refetch,doujin:e,blur:t},e.id)})):Object(U.jsx)(B,{})}),Object(U.jsx)(r,{})]})},V=n(128),$=n(114),ee=n(120),te=n(126),ne=n(122),ae=n(115),ce=n(79),ie=n(116),se=n(71),re=n(78),le=n.n(re),oe=function(e){var t="/gallery/".concat(e.item.id,"/").concat(le.a.basename(e.item.thumbnail.url));return Object(U.jsxs)(V.a.Item,{style:{height:"90px"},className:"d-flex bg-secondary bg-opacity-50 position-relative",children:[Object(U.jsx)(J.a,{className:"flex-shrink-0 me-2 rounded",src:t,width:"60"}),Object(U.jsxs)(l.b,{className:"d-inline-block text-truncate stretched-link",to:"/manga/".concat(e.item.id),children:[Object(U.jsx)("div",{children:e.item.titles.pretty}),Object(U.jsxs)("div",{className:"d-flex flex-wrap",children:[q.a.take(e.item.tags.all.filter((function(e){return"tag"===e.type})),5).map((function(e){return Object(U.jsx)($.a,{children:e.name})})),e.item.tags.all.length>5&&Object(U.jsxs)($.a,{children:["...",e.item.tags.all.length-5," more"]})]})]})]})},de=function(){var e,t,n=Object(c.useState)(""),a=Object(H.a)(n,2),i=a[0],s=a[1],r=Object(E.a)(!1),o=Object(H.a)(r,2),d=o[0],j=o[1],u=Object(E.a)(!1),b=Object(H.a)(u,2),h=b[0],m=b[1],O=Object(c.useState)("title"),f=Object(H.a)(O,2),g=f[0],p=f[1],v=Object(c.useMemo)((function(){return["artist","tag","language","category","parody","title"]}),[]),y=x({q:i,by:g});return Object(U.jsx)(ee.a,{expand:"lg",children:Object(U.jsxs)(R.a,{children:[Object(U.jsx)(l.b,{to:"/",children:Object(U.jsx)(ee.a.Brand,{children:Object(U.jsx)("img",{alt:"",src:"/favicon.png",height:"60",className:"d-inline-block align-top"})})}),Object(U.jsx)(ee.a.Toggle,{className:"bg-light","aria-controls":"nav"}),Object(U.jsxs)(ee.a.Collapse,{id:"nav",className:"justify-content-md-end py-2",children:[Object(U.jsx)(l.b,{className:"nav-link",to:"/online",children:"Online Mode"}),Object(U.jsx)(te.a.Link,{onClick:function(){d||(j(!0),window.fetch("/api/refresh?type=thumb").then((function(){return j(!1)})).catch((function(){return j(!1)})))},className:"nav-link",style:{pointerEvents:d&&"none"},children:"Reload Covers"}),Object(U.jsx)(te.a.Link,{onClick:function(){h||(m(!0),window.fetch("/api/refresh?type=all").then((function(){return m(!1)})).catch((function(){return m(!1)})))},className:"nav-link",style:{pointerEvents:h&&"none"},children:"Reload Mangas"}),Object(U.jsxs)(ne.a,{className:"position-relative",children:[Object(U.jsxs)(ae.a,{children:[Object(U.jsx)(ce.a,{type:"search",placeholder:"Search",className:"me-2","aria-label":"Search",autoComplete:"none",value:i,onChange:function(e){return s(e.target.value)}}),Object(U.jsx)(ie.a,{variant:"outline-secondary",title:g,id:"segmented-button-dropdown-2",align:"end",style:{zIndex:9999},children:v.filter((function(e){return e!==g})).map((function(e,t){return Object(U.jsx)(se.a.Item,{onClick:function(){return p(e)},href:"#",children:e},t)}))})]}),Object(U.jsx)(z.a,{className:"position-absolute top-100 end-0 rounded mt-2 bg-opacity-0",style:{width:"450px",maxHeight:"400px",zIndex:9e3,display:i?void 0:"none"},children:Object(U.jsxs)(V.a,{className:"overflow-auto bg-opacity-0",variant:"flush",children:[y.isFetching&&Object(U.jsx)(V.a.Item,{className:"d-flex align-items-center justify-content-center bg-secondary position-relative",children:Object(U.jsx)(Q.a,{animation:"border",role:"status",children:Object(U.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}),!y.isFetching&&0===(null===y||void 0===y||null===(e=y.data)||void 0===e?void 0:e.length)&&Object(U.jsx)(V.a.Item,{className:"d-flex align-items-center justify-content-center bg-secondary position-relative",children:"Nothing Found :("}),y.isSuccess&&(null===(t=y.data)||void 0===t?void 0:t.map((function(e,t){return Object(U.jsx)(oe,{item:e},e.id)})))]})})]})]})]})})},je=function(){return Object(U.jsxs)("div",{style:{height:"100vh"},children:[Object(U.jsx)(de,{}),Object(U.jsx)(K,{})]})},ue=n.p+"static/media/temp2.5c1b4c28.png",be=function(){return Object(U.jsxs)("div",{className:"position-fixed top-0 start-0 container-fluid",style:{height:"100vh",display:"grid",placeItems:"center",alignContent:"center"},children:[Object(U.jsx)("h1",{className:"text-danger",children:"404 Not Found"}),Object(U.jsx)("img",{src:ue,alt:"kono dio da",height:window.innerHeight/2}),Object(U.jsx)(L.a,{variant:"info",className:"mt-2",onClick:function(){return window.history.back()},children:"Go Home Now"})]})},he=n(118),me=n(123),Oe=n(117),xe=function(e){var t,n=Object(E.a)(!1),a=Object(H.a)(n,2),i=a[0],s=a[1],r=Object(E.a)(!0),l=Object(H.a)(r,2),o=l[0],d=l[1],j=Object(E.a)(!0),u=Object(H.a)(j,2),b=u[0],h=u[1],m=Object(me.a)(600,900,300),O=Object(H.a)(m,2),x=O[0],f=O[1],g=Object(Oe.a)((function(){var t;window.scrollY<document.body.scrollHeight?window.scrollBy({left:0,top:document.body.scrollHeight/(null===(t=e.manga)||void 0===t?void 0:t.pages.length)*.004,behavior:"smooth"}):s(!1)}),i),p=Object(H.a)(g,2),v=p[0],y=p[1];return Object(c.useEffect)((function(){return i?y():v(),function(){return v()}}),[i,y,v]),Object(c.useEffect)((function(){b?e.setBright("brightness(1)"):e.setBright("brightness(0.65)")}),[b,e]),Object(c.useEffect)((function(){e.setZoom("".concat(x||600,"px"))}),[x,e]),Object(U.jsxs)("div",{style:{zIndex:9999,height:"6rem"},className:"d-flex gap-2 position-fixed me-3 end-0 top-0 mt-3 ",children:[Object(U.jsxs)(z.a,{style:{maxWidth:o?"0":"21rem",overflowX:"hidden",transition:"0.2s"},className:"bg-secondary text-center",children:[Object(U.jsx)(z.a.Header,{className:"text-info text-truncate",children:(null===(t=e.manga)||void 0===t?void 0:t.titles.english)||"..."}),Object(U.jsxs)(z.a.Body,{className:"p-2 d-flex flex-wrap gap-2",children:[Object(U.jsx)(L.a,{onClick:function(){f.inc(50)},variant:"outline-primary",className:"px-2 py-1 align-middle",children:Object(U.jsx)(A.j,{alignmentBaseline:"central"})}),Object(U.jsx)(L.a,{onClick:function(){f.dec(50)},variant:"outline-primary",className:"px-2 py-1 align-middle",children:Object(U.jsx)(A.k,{alignmentBaseline:"central"})}),Object(U.jsx)(L.a,{onClick:function(){return h()},variant:"outline-primary",className:"px-2 py-1 align-middle",children:b?Object(U.jsx)(A.e,{alignmentBaseline:"central"}):Object(U.jsx)(A.f,{alignmentBaseline:"central"})}),Object(U.jsx)(L.a,{onClick:function(){return s()},variant:"outline-primary",className:"px-2 py-1 align-middle",children:!1===i?Object(U.jsx)(A.g,{alignmentBaseline:"central"}):Object(U.jsx)(A.i,{alignmentBaseline:"central"})})]})]}),Object(U.jsx)(L.a,{onClick:d,className:"p-0",children:o?Object(U.jsx)(A.b,{fontSize:"2rem"}):Object(U.jsx)(A.a,{fontSize:"2rem"})})]})},fe=function(e){return Object(U.jsx)("div",{children:Object(U.jsx)(J.a,{src:e.src,alt:e.img.pageNumber+"."+e.img.extension,style:{width:"100%"},className:"rounded"})})},ge=n(129),pe=function(){var e,t,n=Object(F.g)().id,a=O(n),i=Object(c.useState)(window.scrollY/(document.body.scrollHeight-window.innerHeight)),s=Object(H.a)(i,2),r=s[0],l=s[1],o=Object(c.useState)(""),d=Object(H.a)(o,2),j=d[0],u=d[1],b=Object(c.useState)(""),h=Object(H.a)(b,2),m=h[0],x=h[1],f=Object(c.useState)(window.scrollY/(document.body.scrollHeight-window.innerHeight)),g=Object(H.a)(f,2),p=g[0],v=g[1];return Object(ge.a)("scroll",(function(){l(window.scrollY/(document.body.scrollHeight-window.innerHeight)*100)})),Object(c.useEffect)((function(){v(window.scrollY/(document.body.scrollHeight-window.innerHeight))}),[j]),a.isFetching&&(document.title="Loading..."),Object(c.useEffect)((function(){a.isSuccess&&(document.title=a.data.titles.english)}),[null===(e=a.data)||void 0===e?void 0:e.titles,a.isSuccess]),"undefined"===typeof n||a.isError?Object(U.jsx)(be,{}):Object(U.jsxs)(U.Fragment,{children:[a.isSuccess&&Object(U.jsx)(he.a,{style:{height:"5px",width:"100vh !important",zIndex:9999,position:"fixed",top:0,left:0,transition:"0.1s"},className:"rounded-0 w-100",now:r}),Object(U.jsxs)("div",{className:"container-fluid",style:{height:"100vh"},children:[a.isLoading&&Object(U.jsx)(D,{}),Object(U.jsx)(xe,{setZoom:u,setBright:x,manga:a.data}),Object(U.jsx)("div",{style:{maxWidth:j,filter:m,transition:"width 0.05s"},onTransitionEnd:function(){window.scrollTo(0,(document.body.scrollHeight-window.innerHeight)*p),console.log(window.scrollY/(document.body.scrollHeight-window.innerHeight))},className:"mx-auto d-flex flex-column align-items-stretch gap-2 mt-2",children:a.isSuccess&&(null===(t=a.data.pages)||void 0===t?void 0:t.map((function(e){var t,n,c="/api/fetch?url=".concat(e.url);(null===(t=a.data)||void 0===t?void 0:t.availableOffline)&&(c="/gallery/".concat(null===a||void 0===a||null===(n=a.data)||void 0===n?void 0:n.id,"/").concat(e.pageNumber,".").concat(e.extension),console.log("offline manga"));return Object(U.jsx)(fe,{img:e,src:c},e.pageNumber)})))})]})]})},ve=function(){var e=Object(c.useState)(""),t=Object(H.a)(e,2),n=t[0],a=(t[1],Object(c.useMemo)((function(){return[{to:"/online",text:"Homepage"},{to:"/online/downloads",text:"Downloads"},{to:"/",text:"Go Offline"},{to:"/online/search",text:"Search"}]}),[]));x(n);return Object(U.jsx)(ee.a,{expand:"lg",children:Object(U.jsxs)(R.a,{children:[Object(U.jsx)(l.b,{to:"/",children:Object(U.jsx)(ee.a.Brand,{children:Object(U.jsx)("img",{alt:"",src:"/favicon.png",height:"60",className:"d-inline-block align-top"})})}),Object(U.jsx)(ee.a.Toggle,{className:"bg-light","aria-controls":"nav"}),Object(U.jsx)(ee.a.Collapse,{id:"nav",className:"justify-content-md-end py-2",children:a.filter((function(e){return e.to!==window.location.pathname})).map((function(e){return Object(U.jsx)(l.b,{className:"nav-link",to:e.to,children:e.text},e.to)}))})]})})},ye=n(3),we=n(68),Ne=function(e){var t,n=Object(E.a)(!0),a=Object(c.useMemo)((function(){return q.a.toPairs(we.SortMethods)}),[]),i=Object(l.c)(new URLSearchParams({page:"1",sort:""})),s=Object(H.a)(i,2),r=s[0],o=s[1],d=y(W(r)),j=function(){return Object(U.jsx)(T,{refresh:function(){d.refetch()},next:function(e){return o(new URLSearchParams(Object(ye.a)(Object(ye.a)({},W(r)),W(e))))},page:null===d||void 0===d?void 0:d.data,blur:n,current:Number(r.get("page")||1)})};return Object(U.jsxs)(R.a,{className:"d-flex flex-column gap-3 py-2",children:[Object(U.jsx)(j,{}),Object(U.jsx)("div",{className:"d-flex justify-content-center gap-2",children:a.map((function(e){return Object(U.jsx)(L.a,{variant:r.get("sort")===e[1]?"primary":"outline-primary",onClick:function(){return o(new URLSearchParams(Object(ye.a)(Object(ye.a)({},W(r)),{},{sort:e[1]})))},children:e[0]},e[0])}))}),Object(U.jsx)("div",{className:"d-flex flex-wrap gap-4 justify-content-center",children:d.isSuccess&&!d.isFetching?null===(t=d.data)||void 0===t?void 0:t.doujins.map((function(e){return Object(U.jsx)(X,{refetch:d.refetch,doujin:e,blur:n},e.id)})):d.isError?Object(U.jsx)(U.Fragment,{children:Object(U.jsxs)("div",{className:"h-100 d-flex align-items-center justify-content-center flex-column mx-auto my-5",children:[Object(U.jsx)("h1",{children:"something went wrong..."}),Object(U.jsx)(L.a,{className:"w-100",onClick:function(){d.refetch()},children:"Retry?"})]})}):Object(U.jsx)(B,{num:10})}),Object(U.jsx)(j,{})]})},Se=function(e){return Object(U.jsxs)("div",{style:{height:"100vh"},children:[Object(U.jsx)(ve,{}),Object(U.jsx)(Ne,{})]})},ke=n(119),Ce=n(62),Le=n(121),Pe=n(82);Le.a.addDefaultLocale(Pe);var Fe=new Le.a("en-US"),He=function(e){var t=e.doujin,n=e.type,a=e.children,i=Object(E.a)(!1),s=Object(H.a)(i,2),r=s[0],l=s[1];return Object(c.useEffect)((function(){(null===t||void 0===t?void 0:t.tags.all.filter((function(e){return e.type===n})).length)<1&&l(!0)}),[null===t||void 0===t?void 0:t.tags.all,l,n]),r?Object(U.jsx)(U.Fragment,{}):Object(U.jsx)("div",{className:"bg-light bg-opacity-75 text-dark rounded p-2 shadow",children:Object(U.jsxs)("span",{className:"d-inline-flex gap-2 flex-wrap align-items-center",children:[Object(U.jsx)("span",{className:"fw-bold",children:a}),null===t||void 0===t?void 0:t.tags.all.filter((function(e){return e.type===n})).map((function(e){return console.log(e.url),Object(U.jsxs)("a",{className:"btn btn-outline-secondary py-1 px-2",href:e.url,target:"_blank",rel:"noreferrer",children:[Object(U.jsx)("span",{className:"fst-italic me-2",children:e.name}),Object(U.jsx)($.a,{bg:"secondary",children:e.count})]},e.id)}))]})})},Re=function(e){var t,n,a,i=Object(F.g)().id,s=w(i),r=Object(c.useState)(),o=Object(H.a)(r,2),d=o[0],j=o[1],u=f({refetchOnFocus:!1,refetchOnReconnect:!1}),b=Object(H.a)(u,2),h=b[0],m=b[1],O=g({refetchOnFocus:!1,refetchOnReconnect:!1}),x=Object(H.a)(O,2),p=x[0],v=x[1];return Object(c.useEffect)((function(){m.isSuccess&&s.isSuccess&&j(!0)}),[m,s]),Object(c.useEffect)((function(){v.isSuccess&&s.isSuccess&&j(!1)}),[v,s]),Object(c.useEffect)((function(){s.isSuccess&&(document.title=s.data.titles.pretty,j(s.data.availableOffline))}),[s]),Object(U.jsxs)(R.a,{className:"w-75 py-4 bg-secondary bg-opacity-50 shadow rounded-2 my-3",children:[s.isFetching&&Object(U.jsx)(Q.a,{variant:"primary",animation:"border",role:"status"}),s.isSuccess&&Object(U.jsxs)(ke.a,{className:"text-light",children:[Object(U.jsx)(Ce.a,{xs:5,children:Object(U.jsxs)("div",{className:"position-relative",children:[Object(U.jsx)(l.b,{to:"/manga/".concat(s.data.id),children:Object(U.jsx)(J.a,{rounded:!0,style:{width:"100%",filter:"blur(3px)"},src:"/api/fetch?url=".concat(null===(t=s.data)||void 0===t?void 0:t.cover.url)})}),Object(U.jsxs)("div",{className:"position-absolute top-0 start-0",children:[Object(U.jsx)(L.a,{onClick:function(){d?p(s.data.id.toString(),!1):h(s.data.id.toString(),!1)},className:"me-2",variant:"primary",children:d?"Delete":"Download"}),Object(U.jsx)(l.b,{className:"btn btn-danger",to:"/manga/".concat(s.data.id),children:"Read"})]})]})}),Object(U.jsxs)(Ce.a,{className:"py-2 d-flex flex-wrap align-items-start align-content-start gap-3",children:[Object(U.jsx)("div",{className:"lead bg-gradient bg-light bg-opacity-50 text-black rounded p-2 shadow flex-fill",children:function(){var e,t,n,a=null===(e=s.data)||void 0===e?void 0:e.titles.english.split(null===(t=s.data)||void 0===t?void 0:t.titles.pretty);return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)("span",{className:"fst-italic",children:a[0]}),Object(U.jsx)("span",{className:"fw-bold",children:null===(n=s.data)||void 0===n?void 0:n.titles.pretty})," ",Object(U.jsx)("span",{className:"fst-italic",children:a[1]})]})}()}),Object(U.jsx)(He,{type:"tag",doujin:s.data,children:"Tags:"}),Object(U.jsx)(He,{type:"artist",doujin:s.data,children:"Artists:"}),Object(U.jsx)(He,{type:"group",doujin:s.data,children:"Groups:"}),Object(U.jsx)(He,{type:"language",doujin:s.data,children:"Languages:"}),Object(U.jsx)(He,{type:"category",doujin:s.data,children:"Categories:"}),Object(U.jsxs)("div",{className:"bg-light bg-opacity-75 text-dark rounded p-2 shadow",children:[Object(U.jsx)("span",{className:"fw-bold me-1 align-middle",children:"Pages:"}),Object(U.jsx)("span",{className:"btn btn-outline-secondary py-1",children:null===(n=s.data)||void 0===n?void 0:n.length})]}),Object(U.jsxs)("div",{className:"bg-light bg-opacity-75 text-dark rounded p-2 shadow",children:[Object(U.jsxs)("span",{className:"fw-bold me-1 align-middle",children:["Uploaded:"," "]}),Object(U.jsx)("span",{className:"btn btn-outline-secondary py-1",children:Fe.format(new Date(null===(a=s.data)||void 0===a?void 0:a.uploadDate),"round-minute")})]})]})]})]})},Ee=function(e){var t,n=Object(E.a)(!0),a=Object(c.useRef)(),i=Object(c.useMemo)((function(){return q.a.toPairs(we.SortMethods)}),[]),s=Object(l.c)(new URLSearchParams({page:"1",sort:"",q:"*"})),r=Object(H.a)(s,2),o=r[0],d=r[1],j=N(W(o)),u=function(){return Object(U.jsx)(T,{refresh:function(){j.refetch()},next:function(e){return d(new URLSearchParams(Object(ye.a)(Object(ye.a)({},W(o)),W(e))))},page:null===j||void 0===j?void 0:j.data,blur:n,current:Number(o.get("page")||1)})};return Object(U.jsxs)(R.a,{className:"d-flex flex-column gap-3 py-2",children:[Object(U.jsx)(ne.a,{onSubmit:function(e){var t;e.preventDefault(),d(Object(ye.a)(Object(ye.a)({},W(o)),{},{q:null===(t=a.current)||void 0===t?void 0:t.value}))},children:Object(U.jsx)(ce.a,{type:"search",placeholder:"Search","aria-label":"Search",autoComplete:"none",ref:a})}),Object(U.jsx)(u,{}),Object(U.jsx)("div",{className:"d-flex justify-content-center gap-2",children:i.map((function(e){return Object(U.jsx)(L.a,{variant:o.get("sort")===e[1]?"primary":"outline-primary",onClick:function(){return d(new URLSearchParams(Object(ye.a)(Object(ye.a)({},W(o)),{},{sort:e[1]})))},children:e[0]},e[0])}))}),Object(U.jsx)("div",{className:"d-flex flex-wrap gap-4 justify-content-center",children:j.isSuccess&&!j.isFetching?null===(t=j.data)||void 0===t?void 0:t.doujins.map((function(e){return Object(U.jsx)(X,{refetch:j.refetch,doujin:e,blur:n},e.id)})):j.isError?Object(U.jsx)(U.Fragment,{children:Object(U.jsxs)("div",{className:"h-100 d-flex align-items-center justify-content-center flex-column mx-auto my-5",children:[Object(U.jsx)("h1",{children:"Search something..."}),Object(U.jsx)(L.a,{className:"w-100",onClick:function(){var e;null===(e=a.current)||void 0===e||e.focus()},children:"Search"})]})}):Object(U.jsx)(B,{num:10})}),Object(U.jsx)(u,{})]})},Me=(n(98),function(){Object(F.e)();var e=Object(F.f)();return Object(U.jsx)(C.a,{vertical:!0,style:{right:"2rem",bottom:"3rem",position:"fixed"},children:Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(L.a,{onClick:function(){return window.scroll({behavior:"smooth",top:0,left:0})},children:Object(U.jsx)(P.a,{fontSize:"3rem"})}),Object(U.jsx)(L.a,{variant:"secondary",onClick:function(){return e("/")},children:"Go Back"})]})})}),qe=function(){return Object(U.jsx)(U.Fragment,{children:Object(U.jsxs)(F.c,{children:[Object(U.jsx)(F.a,{path:"/",caseSensitive:!0,element:Object(U.jsx)(je,{})}),Object(U.jsx)(F.a,{path:"/manga",caseSensitive:!0,children:Object(U.jsx)(F.a,{path:":id",element:Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(pe,{}),Object(U.jsx)(Me,{})]})})}),Object(U.jsx)(F.a,{path:"/online",caseSensitive:!0,element:Object(U.jsx)(Se,{})}),Object(U.jsx)(F.a,{path:"/online/search",element:Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(ve,{}),Object(U.jsx)(Ee,{})]})}),Object(U.jsx)(F.a,{path:"/online/:id",element:Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(ve,{}),Object(U.jsx)(Re,{})]})}),Object(U.jsx)(F.a,{path:"*",element:Object(U.jsx)(be,{})})]})})};n(99);s.a.render(Object(U.jsx)(r.a,{store:k,children:Object(U.jsx)(l.a,{children:Object(U.jsx)(qe,{})})}),document.querySelector("#container"))},98:function(e,t,n){},99:function(e,t,n){}},[[100,1,2]]]);
//# sourceMappingURL=main.d628eec9.chunk.js.map