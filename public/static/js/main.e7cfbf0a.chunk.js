(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{118:function(e,t,r){e.exports={TopComponent:"TopComponent_TopComponent__dAKjL"}},119:function(e,t,r){e.exports={p_overflow:"Footer_p_overflow__1CB30"}},144:function(e,t,r){},145:function(e,t,r){},146:function(e,t,r){"use strict";r.r(t);var n=r(4),a=r(41),c=r.n(a),o=r(32),s=r(30),i=r(38),l=r(14),j=r(17),d=r(148),b=r(89),u=r(110),h=r(111),m=r(5),O=function(e){var t=e.panelImg;return Object(m.jsx)("div",{className:"panel",children:Object(m.jsx)(h.LazyLoadImage,{src:"/".concat(t.path),alt:t.name})})},x=r(48),_=r(112),g=function(e){var t=e.manga,r=e.zoomValue,n=e.brightVal,a=e.setBright,c=e.setZoomVal;return Object(m.jsxs)("header",{children:[Object(m.jsx)("h2",{className:"logo",children:t?t.name:"..."}),Object(m.jsxs)("nav",{children:[Object(m.jsxs)("div",{className:"bright-control",children:[Object(m.jsx)("span",{children:n}),Object(m.jsx)("input",{type:"range",min:"0",max:"100",onChange:function(e){return a(e.target.value)},value:n})]}),Object(m.jsxs)("div",{className:"zoom-control",children:[Object(m.jsx)("button",{type:"button",onClick:function(){return c(r>1?r-1:1)},children:Object(m.jsx)(i.d,{})}),Object(m.jsx)("input",{type:"text",onChange:function(e){return e.target.value<=10&e.target.value>0&&c(e.target.value)},value:r}),Object(m.jsx)("button",{type:"button",onClick:function(){return c(r<10?r+1:10)},children:Object(m.jsx)(i.e,{})})]})]})]})};g.defaultProps={manga:{name:"",data:[]}};var p,f,v,y=g,N=r(70),w=r.n(N),k=function(e){var t=e.children,r=e.hasErrors,n=e.errors,a=e.retry,c=(e.loading,e.status);return r?(console.log(r),Object(m.jsxs)("div",{className:w.a.errorBlock,children:[Object(m.jsx)("h3",{children:"Something went wrong..."}),Object(m.jsx)("button",{className:w.a.retryBtn,onClick:function(){return a()},style:{cursor:4===c?"progress":"pointer"},children:4===c?"Retrying...":"Retry?"}),Object(m.jsx)("code",{className:w.a.errorMsg,children:n.message})]})):t},C=r(71),S=Object(s.gql)(p||(p=Object(C.a)(["\nquery AllMangas($refresh: Boolean) {\n  list: mangas(refresh: $refresh) {\n    id\n    name\n    pathname\n    createdAt\n    size\n  }\n}\n"]))),B=Object(s.gql)(f||(f=Object(C.a)(["\nquery getManga($id: ID!) {\n   manga(id: $id) {\n      id\n      name\n      pathname\n      createdAt\n      size\n      data {\n         name\n         path\n      }\n   }\n}\n"]))),z=(Object(s.gql)(v||(v=Object(C.a)(["\nquery SearchManga($s: String){\n  search(term: $s) {\n    id\n    name\n  }\n}\n"]))),r(49)),F=r.n(z),A=_.animateScroll,P=function(){var e=Object(l.g)(),t=new URLSearchParams(e.search).get("id"),r=Object(s.useQuery)(B,{variables:{id:t}}),a=r.loading,c=r.data,o=r.error,i=r.refetch,h=Object(d.a)("zoomValue",5),_=Object(j.a)(h,2),g=_[0],p=_[1],f=Object(d.a)("brightValue",100),v=Object(j.a)(f,2),N=v[0],w=v[1],C={text:Object(x.useSpring)({from:{opacity:1},opacity:0,loop:{reverse:!0},reset:a})},S=b.a.create({brightnessAdjust:{filter:"brightness(".concat(N,"%)")},widthAdjust:{maxWidth:"".concat(700*(g/10+.5),"px"),transition:"0.3s"}});return Object(n.useEffect)((function(){document.title=a?"Loading...":c.manga.name})),Object(n.useEffect)((function(){A.scrollToTop()}),[]),Object(m.jsxs)("div",{children:[a&&Object(m.jsx)("div",{className:F.a.loading_style,children:Object(m.jsx)("h3",{children:Object(m.jsx)(x.animated.span,{style:C.text,children:"Loading..."})})}),Object(m.jsx)(k,{hasErrors:o&&!0,errors:o,retry:i,children:Object(m.jsxs)("div",{className:"wrapper",children:[!a&&Object(m.jsx)(u.a,{height:"3px",top:"30px",color:"#546",bgColor:"#aae"}),Object(m.jsx)(y,{manga:!a&&c.manga,zoomValue:g,brightVal:N,setBright:w,setZoomVal:p}),Object(m.jsx)("div",{className:Object(b.b)(S.brightnessAdjust,S.widthAdjust),id:"viewer",children:!a&&c.manga.data.map((function(e,t){return Object(m.jsx)(O,{panelImg:e},t)}))})]})})]})},T=r(117),H=r(7),L=r(88),D=r(72),M=r.n(D),R=r(44),q=r.n(R),E=function(e){var t=Object(n.useMemo)((function(){return[{Header:"Name",accessor:"name",sortDescFirst:!0,Cell:function(e){return e.value.replace(/[\])}[{(_]/g,"")}},{Header:"Size",accessor:"size",sortDescFirst:!0,Cell:function(e){var t=e.value;return"".concat((t/1e6).toFixed(2),"mb")}},{Header:"Date",accessor:"createdAt",Cell:function(e){var t=e.value;return new Date(t).toDateString()},sortDescFirst:!0}]}),[]),r=Object(n.useMemo)((function(){return e.data}),[e.data]),a=Object(L.useTable)({columns:t,data:r},L.useSortBy),c=a.getTableProps,s=a.getTableBodyProps,j=a.headerGroups,d=a.rows,b=a.prepareRow;return Object(m.jsxs)("table",Object(H.a)(Object(H.a)({className:"list"},c()),{},{children:[Object(m.jsxs)("colgroup",{children:[Object(m.jsx)("col",{className:"col-name"}),Object(m.jsx)("col",{className:"col-size"}),Object(m.jsx)("col",{className:"col-createdAt"})]}),Object(m.jsx)("thead",{children:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map((function(e){return Object(m.jsx)("tr",Object(H.a)(Object(H.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(m.jsx)("th",Object(H.a)(Object(H.a)({className:M()(e.id,q.a.flex_column)},e.getHeaderProps(e.getSortByToggleProps({title:"Sort by "+e.Header}))),{},{children:Object(m.jsxs)("div",{className:q.a.sort_logo,children:[Object(m.jsx)("h4",{className:e.id,children:e.render("Header")}),Object(m.jsx)("div",{children:Object(m.jsx)(i.a,{className:M()(e.isSorted?e.isSortedDesc?q.a.sort_down:q.a.sort_up:q.a.sort_none),fontSize:"1.2rem"})})]})}))}))}))}))}(j)}),Object(m.jsx)("tbody",Object(H.a)(Object(H.a)({className:M()(q.a.transitionize)},s()),{},{children:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map((function(e){return b(e),Object(m.jsx)("tr",Object(H.a)(Object(H.a)({},e.getRowProps()),{},{children:e.cells.map((function(e){return Object(m.jsx)("td",Object(H.a)(Object(H.a)({title:"createdAt"===e.column.id?new Date(e.value).toDateString():e.value,className:e.column.id},e.getCellProps()),{},{children:Object(m.jsx)(o.b,{to:Object(l.e)("/manga?id=:id",{id:e.row.original.id}),children:Object(m.jsx)("span",{children:e.render("Cell")})})}))}))}))}))}(d)}))]}))},V=function(e){return Object(m.jsx)(E,{data:e.data})},G=function(){var e=Object(s.useQuery)(S,{partialRefetch:!0,notifyOnNetworkStatusChange:!0}),t={text:Object(x.useSpring)({from:{opacity:1},opacity:0,loop:{reverse:!0},reset:!0})};return Object(m.jsxs)("div",{id:"main",children:[Object(m.jsxs)("div",{className:F.a.header_flex,children:[Object(m.jsx)("h1",{className:"logo",children:Object(m.jsx)(o.b,{to:"/",style:{color:"white"},children:Object(m.jsx)("div",{children:"Reader"})})}),Object(m.jsx)("div",{children:Object(m.jsxs)("button",{onClick:function(){return e.refetch({refresh:!0})},className:F.a.refresh_btn,children:[Object(m.jsx)(T.a,{fontSize:"1.2rem"}),Object(m.jsx)("span",{children:"Refresh"})]})})]}),Object(m.jsx)("div",{}),Object(m.jsx)(k,{status:e.networkStatus,loading:e.loading,retry:e.refetch,hasErrors:e.error&&!0,errors:e.error,children:!e.loading&&e.data?Object(m.jsx)(V,{data:e.data.list}):Object(m.jsx)("div",{className:F.a.loading_style,children:Object(m.jsx)("h3",{children:Object(m.jsx)(x.animated.span,{style:t.text,children:"Loading..."})})})})]})},I=r(73),$=r.n(I),J=function(){return Object(m.jsxs)("div",{className:$.a.NotFoundBlock,children:[Object(m.jsx)("h1",{children:"404 Not Found"}),Object(m.jsx)("code",{className:$.a.NotFoundCodeBlock,children:"The Page you're looking for isn't here :P."}),Object(m.jsx)(o.b,{className:$.a.GoHomeLink,to:"/",children:"Go Home Now"})]})},Q=(r(144),function(){return Object(m.jsxs)(l.c,{children:[Object(m.jsx)(l.a,{exact:!0,path:"/",component:G}),Object(m.jsx)(l.a,{path:"/manga",component:P}),Object(m.jsx)(l.a,{component:J})]})}),K=r(118),Z=r.n(K),U=(r(145),r(119)),W=r.n(U),X=function(){return Object(m.jsx)("footer",{children:Object(m.jsxs)("p",{className:W.a.p_overflow,children:["Thanks for Reading my manga reader ",Object(m.jsx)(i.c,{fontSize:"1.2rem"})]})})},Y=new s.ApolloClient({uri:"/api/ql",cache:new s.InMemoryCache}),ee=function(){return Object(m.jsx)("button",{className:Z.a.TopComponent,onClick:function(){return window.scroll({behavior:"smooth",top:0,left:0})},children:Object(m.jsx)(i.b,{fontSize:"2rem"})})};c.a.render(Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(o.a,{children:Object(m.jsx)(s.ApolloProvider,{client:Y,children:Object(m.jsx)(Q,{})})}),Object(m.jsx)(ee,{}),Object(m.jsx)(X,{})]}),document.querySelector("#container"))},44:function(e,t,r){e.exports={sort_logo:"reader_sort_logo__2FeFC",sort_down:"reader_sort_down__3mXiQ",sort_up:"reader_sort_up__1SwmL",sort_none:"reader_sort_none__1JKuy",center:"reader_center__2dnH_",header:"reader_header__1o9hK",flex_column:"reader_flex_column__2DQPt",transitionize:"reader_transitionize__30Yx2"}},49:function(e,t,r){e.exports={loading_style:"main_loading_style__1Lm1M",header_flex:"main_header_flex__1ylRE",refresh_btn:"main_refresh_btn__2iuFG",search_bar:"main_search_bar__3gPIp"}},70:function(e,t,r){e.exports={errorMsg:"ErrorBlock_errorMsg__1O09I",errorBlock:"ErrorBlock_errorBlock__39bVM",retryBtn:"ErrorBlock_retryBtn__1YTZ1"}},73:function(e,t,r){e.exports={NotFoundBlock:"404_NotFoundBlock___Xqa0",NotFoundCodeBlock:"404_NotFoundCodeBlock__2WCRk",GoHomeLink:"404_GoHomeLink__J-AUj"}}},[[146,1,2]]]);
//# sourceMappingURL=main.e7cfbf0a.chunk.js.map