(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{52:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){"use strict";n.r(t);n(39);var r=n(1),c=n(20),s=n.n(c),a=n(8),o=n(16),i=n(22),l=n(3),u=Object(l.d)({initialState:{blur:!0,zoom:5,brightness:100,search:""},name:"control",reducers:{setZoom:function(e,t){e.zoom=t.payload},setBrightness:function(e,t){e.brightness=t.payload},setSearch:function(e,t){e.search=t.payload},clearSearch:function(e){e.search=""},toggleBlur:function(e){e.blur=!e.blur}}}),d=u.actions,j=d.setZoom,b=d.setBrightness,h=d.setSearch,m=d.clearSearch,x=d.toggleBlur,O=u.reducer,f=n(34),g=n(10),p=n(23),v=n.n(p),_=Object(f.a)({reducerPath:"mangaApi",baseQuery:Object(g.d)({baseUrl:"/api"}),endpoints:function(e){return{allMangas:e.query({query:function(e){var t=new URLSearchParams;return v.a.toPairs(e).forEach((function(e){t.append(e[0],e[1])})),"/mangas?".concat(t.toString())}}),getManga:e.query({query:function(e){return"/manga/".concat(e)}}),search:e.query({query:function(e){return"/search?q=".concat(e||"")}})}}}),y=_,N=(_.useAllMangasQuery,_.useGetMangaQuery),k=(_.useLazySearchQuery,_.useSearchQuery),B=_.useLazyAllMangasQuery,C=(_.useLazyGetMangaQuery,_.usePrefetch,Object(l.a)({reducer:Object(i.a)({controls:O},y.reducerPath,y.reducer),middleware:function(e){return e().concat(y.middleware)}})),w=a.e,S=function(){return Object(a.d)()},z=C,F=n(17),L=n(6),E=n(38),Q=n(35),G=n(31),M=n(24),P=n.n(M),q=n(2),R=function(e){var t=e.item,n=w((function(e){return e.controls.blur}));return Object(q.jsxs)(o.b,{className:"flex-item",title:t.name,to:"/manga?id=".concat(t.id),children:[Object(q.jsx)("img",{className:P()("bg-img",n&&"blur-img"),src:t.cover||void 0}),Object(q.jsx)("div",{className:"description",children:Object(q.jsx)("p",{children:t.name})})]})},T=n(7),V=n.n(T),H=function(){return Object(q.jsx)("div",{className:V.a.loading_style,children:Object(q.jsx)("h3",{children:Object(q.jsx)("div",{className:"loading-animation",children:"Loading..."})})})},A=function(e){var t;return Object(q.jsx)("div",{className:"main-reader",children:Object(q.jsx)("div",{className:"main-reader-box",children:!e.loading&&e.data?Object(q.jsx)("div",{className:P()("main-reader-flex","current"),children:null===(t=e.data)||void 0===t?void 0:t.map((function(e){return Object(q.jsx)(R,{item:e},e.id)}))}):Object(q.jsx)(H,{})})})},U=function(e){var t=e.children,n=e.hasErrors,r=e.errors,c=e.retry,s=e.isFetching;return n?(console.log(n),Object(q.jsxs)("div",{className:V.a.errorBlock,children:[Object(q.jsx)("h3",{children:"Something went wrong..."}),Object(q.jsx)("button",{className:V.a.retryBtn,onClick:function(){return c()},style:{cursor:s?"progress":"pointer"},children:s?"Retrying...":"Retry?"}),Object(q.jsx)("code",{className:V.a.errorMsg,children:null===r||void 0===r?void 0:r.message})]})):Object(q.jsx)(q.Fragment,{children:t})},I=function(e){return Object(q.jsxs)(o.b,{to:"/manga?id=".concat(e.item.id),className:"search-item",title:e.item.name,children:[Object(q.jsx)("div",{className:"cover-img",style:{backgroundImage:"url('".concat(e.item.cover,"')")}}),Object(q.jsxs)("div",{children:[v.a.chunk(e.item.name.split(" "),8).map((function(e,t){return Object(q.jsx)("div",{children:e.join(" ")},t)})),"..."]})]})},J=function(e){var t=w((function(e){return e.controls.search})),n=S(),r=k(t);return Object(q.jsxs)("div",{className:"search-bar",children:[Object(q.jsx)("input",{type:"text",name:"search",placeholder:"Search...",onChange:function(e){e.target.value?n(h(e.target.value)):n(m())},autoComplete:"off"}),r.isSuccess&&r.data.length>0&&Object(q.jsx)("div",{className:"search-list",children:r.data.map((function(e){return Object(q.jsx)(I,Object(Q.a)({},e))}))})]})},X=function(){var e,t=B(),n=Object(E.a)(t,2),c=n[0],s=n[1],a=w((function(e){return e.controls.blur})),i=S();return Object(r.useEffect)((function(){c(null)}),[]),Object(q.jsxs)("div",{id:"main",children:[Object(q.jsxs)("div",{className:V.a.header_flex,children:[Object(q.jsx)("h1",{className:"logo",children:Object(q.jsx)(o.b,{to:"/",style:{color:"white"},children:Object(q.jsx)("div",{children:"Reader"})})}),Object(q.jsxs)("div",{className:"btn-flex",children:[Object(q.jsxs)("button",{onClick:function(){return c({refresh:!0})},className:V.a.refresh_btn,children:[Object(q.jsx)(G.a,{fontSize:"1.2rem"}),Object(q.jsx)("span",{children:"Refresh"})]}),Object(q.jsxs)("button",{onClick:function(){return c({_updateCovers:!0})},className:V.a.refresh_btn,children:[Object(q.jsx)(G.a,{fontSize:"1.2rem"}),Object(q.jsx)("span",{children:"Covers"})]}),Object(q.jsxs)("div",{className:"is-blur-check",children:[Object(q.jsx)("div",{children:"Blur"}),Object(q.jsx)("input",{type:"checkbox",checked:a,onChange:function(){return i(x())}})]})]})]}),Object(q.jsx)(J,{}),Object(q.jsx)(U,{retry:function(){return c(null)},hasErrors:s.isError,errors:s.error,isFetching:s.isFetching,children:Object(q.jsx)(A,{total:null===s||void 0===s||null===(e=s.data)||void 0===e?void 0:e.length,data:null===s||void 0===s?void 0:s.data,loading:s.isFetching,refetch:function(){return c(null)}})})]})},Z=n(56),D=n(36),W=n(37),Y=n.p+"static/media/404.6a579c40.jpg",K=function(e){var t=e.panelImg;return Object(q.jsx)("div",{className:"panel",children:Object(q.jsx)(W.a,{src:"/".concat(t.path),alt:t.name,error:Y,style:t?{}:{background:"#444",height:"500px"}})})},$=function(e){var t=e.manga,n=e.zoomValue,r=void 0===n?5:n,c=e.brightVal,s=void 0===c?100:c,a=S();return Object(q.jsxs)("header",{children:[Object(q.jsx)("h2",{className:"logo",children:(null===t||void 0===t?void 0:t.name)||"..."}),Object(q.jsxs)("nav",{children:[Object(q.jsxs)("div",{className:"bright-control",children:[Object(q.jsx)("span",{children:s}),Object(q.jsx)("input",{type:"range",min:"0",max:"100",onChange:function(e){return a(b(e.target.valueAsNumber))},value:s})]}),Object(q.jsxs)("div",{className:"zoom-control",children:[Object(q.jsx)("button",{type:"button",onClick:function(){return a(j(r>1?r-1:1))},children:Object(q.jsx)(F.c,{})}),Object(q.jsx)("input",{type:"text",value:r,contentEditable:"false"}),Object(q.jsx)("button",{type:"button",onClick:function(){return a(j(r<10?r+1:10))},children:Object(q.jsx)(F.d,{})})]})]})]})},ee=n(32),te=function(){var e,t=Object(Z.a)("id")||"",n=N(Number(t)),c=n.data,s=n.isLoading,a=n.error,o=n.refetch,i=n.isFetching,l=w((function(e){return e.controls})),u=700*(l.zoom/10+.5),d=ee.a.create({main:{filter:"brightness(".concat(l.brightness,"%)"),maxWidth:"".concat(u,"px"),transition:"0.3s"}});return Object(r.useEffect)((function(){s?document.title="Loading...":c&&(document.title=null===c||void 0===c?void 0:c.name)})),Object(r.useEffect)((function(){window.scroll({top:0,left:0})}),[]),Object(q.jsxs)("div",{children:[s&&Object(q.jsx)(H,{}),Object(q.jsx)(U,{hasErrors:Boolean(a),errors:a,retry:o,isFetching:i,children:Object(q.jsxs)("div",{className:"wrapper",children:[!s&&Object(q.jsx)(D.a,{height:"5px",color:"#aae",top:"30px",bgColor:"#546"}),Object(q.jsx)($,{manga:c,zoomValue:l.zoom,brightVal:l.brightness}),Object(q.jsx)("div",{className:Object(ee.b)(d.main),id:"viewer",children:!s&&(null===c||void 0===c||null===(e=c.data)||void 0===e?void 0:e.map((function(e,t){return Object(q.jsx)(K,{panelImg:e},t)})))})]})})]})},ne=function(){return Object(q.jsxs)("div",{className:V.a.NotFoundBlock,children:[Object(q.jsx)("h1",{children:"404 Not Found"}),Object(q.jsx)("code",{className:V.a.NotFoundCodeBlock,children:"The Page you're looking for isn't here :P."}),Object(q.jsx)(o.b,{className:V.a.GoHomeLink,to:"/",children:"Go Home Now"})]})},re=(n(52),function(){return Object(q.jsxs)(L.c,{children:[Object(q.jsx)(L.a,{exact:!0,path:"/",component:X}),Object(q.jsx)(L.a,{path:"/manga",component:te}),Object(q.jsx)(L.a,{component:ne})]})}),ce=(n(53),function(){return Object(q.jsx)("footer",{children:Object(q.jsxs)("p",{className:V.a.p_overflow,children:["Thanks for Reading my manga reader ",Object(q.jsx)(F.b,{fontSize:"1.2rem"})]})})}),se=function(){return Object(q.jsx)("button",{className:V.a.TopComponent,onClick:function(){return window.scroll({behavior:"smooth",top:0,left:0})},children:Object(q.jsx)(F.a,{fontSize:"2rem"})})};s.a.render(Object(q.jsx)(q.Fragment,{children:Object(q.jsxs)(a.a,{store:z,children:[Object(q.jsx)(o.a,{children:Object(q.jsx)(re,{})}),Object(q.jsx)(se,{}),Object(q.jsx)(ce,{})]})}),document.querySelector("#container"))},7:function(e,t,n){e.exports={scroll_btn:"style_scroll_btn__2DVon",center:"style_center__2ktxo",header:"style_header__QLGaS",flex_column:"style_flex_column__2GipV",transitionize:"style_transitionize__2Cutg",NotFoundBlock:"style_NotFoundBlock__3nBZt",NotFoundCodeBlock:"style_NotFoundCodeBlock__3eTYR",GoHomeLink:"style_GoHomeLink__FUFnD",errorMsg:"style_errorMsg__3EXXt",errorBlock:"style_errorBlock__2rrBe",retryBtn:"style_retryBtn__obQzX",p_overflow:"style_p_overflow__2lbNJ",loading_style:"style_loading_style__Q5HdP",header_flex:"style_header_flex__BGuEN",refresh_btn:"style_refresh_btn__3OP8f",TopComponent:"style_TopComponent__U8fwL"}}},[[54,1,2]]]);
//# sourceMappingURL=main.bf9a2dc6.chunk.js.map