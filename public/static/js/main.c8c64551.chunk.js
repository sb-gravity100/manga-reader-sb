(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{83:function(e,t,n){},84:function(e,t,n){},85:function(e,t,n){"use strict";n.r(t);n(71);var a,c=n(1),i=n(26),s=n.n(i),r=n(14),l=n(13),o=n(10),d=n(7),u=n(46),j=n(20),b=Object(u.a)({reducerPath:"MangaApi",baseQuery:Object(j.d)({baseUrl:"/api"}),endpoints:function(e){return{allMangas:e.query({query:function(e){return{url:"/mangas",params:e}}}),getManga:e.query({query:function(e){return{url:"/doujin",params:{id:e}}}}),search:e.query({query:function(e){return{url:"/search",params:"string"===typeof e?{q:e}:e}}}),saveManga:e.query({query:function(e){return{url:"/save",params:{id:e}}}}),removeManga:e.query({query:function(e){return{url:"/remove",params:{id:e}}}})}}}),h=b,m=b.useAllMangasQuery,O=b.useGetMangaQuery,x=(b.useLazySearchQuery,b.useSearchQuery),g=(b.useLazyAllMangasQuery,b.useLazyGetMangaQuery,b.usePrefetch,b.useLazySaveMangaQuery),f=(b.useSaveMangaQuery,b.useLazyRemoveMangaQuery),p=(b.useRemoveMangaQuery,n(3)),v=Object(d.d)({initialState:{results:[],toasts:[]},name:"Downloads",reducers:{add:function(e,t){var n={id:"".concat(e.results.length,"_").concat(Date.now()),doujinID:t.payload,timeAdded:Date.now()};e.results.push(n)},error:function(e,t){var n=e.results.findIndex((function(e){return e.id===t.payload}));n>-1&&(e.results[n].isError=!0,e.results[n].isSuccess=!1)},remove:function(e,t){var n=e.results.findIndex((function(e){return e.id===t.payload}));n>-1&&e.results.splice(n,1)},completed:function(e,t){var n=e.results.findIndex((function(e){return e.id===t.payload}));n>-1&&(e.results[n].isError=!0,e.results[n].isSuccess=!1)},saveHistory:function(e){var t=localStorage.getItem("doujin-download-history");t&&(e.results=e.results.concat(JSON.parse(t))),localStorage.setItem("doujin-download-history",JSON.stringify(e.results))},pushToast:function(e,t){var n=Object(p.a)({id:"".concat(e.toasts.length,"_").concat(Date.now()),createdAt:Date.now()},t.payload);e.toasts.push(n)}}}),y=v,w=v.actions,N=(w.saveHistory,w.add),S=w.completed,k=w.error,C=w.pushToast,L=w.remove,P=Object(u.a)({reducerPath:"HentaiApi",baseQuery:Object(j.d)({baseUrl:"/api/onlineapi"}),endpoints:function(e){return{getDoujin:e.query({query:function(e){return{url:"/doujin",params:{id:e}}}}),search:e.query({query:function(e){return{url:"/search",params:"string"===typeof e?{q:e}:e}}}),getHomepage:e.query({query:function(e){return{url:"/homepage",params:e}}})}}}),D=P,H=P.useGetHomepageQuery,F=P.useGetDoujinQuery,R=(P.useLazyGetHomepageQuery,P.useLazyGetDoujinQuery,P.useLazySearchQuery,P.usePrefetch,P.useSearchQuery),E=Object(d.a)({reducer:(a={},Object(o.a)(a,h.reducerPath,h.reducer),Object(o.a)(a,D.reducerPath,D.reducer),Object(o.a)(a,"downloads",y.reducer),a),middleware:function(e){return e().concat(h.middleware,D.middleware)}}),I=r.e,q=E,z=n(99),M=n(64),Q=n(70),B=n(9),U=n(8),G=n(94),A=n(92),T=n(36),Y=n.n(T),_=n(107),J=n(109),W=n(91),Z=n(2),X=function(e){return Object(Z.jsx)(Z.Fragment,{children:Y.a.times(e.num||10,(function(e){return Object(Z.jsxs)(_.a,{className:"bg-secondary",style:{width:"12rem"},children:[Object(Z.jsx)(_.a.Img,{variant:"top",height:"190",src:"/loading.gif"}),Object(Z.jsx)(_.a.Body,{className:"py-1 px-2",children:Object(Z.jsx)(J.a,{as:_.a.Title,animation:"wave",children:Object(Z.jsx)(J.a,{className:"mx-auto",bg:"info",xs:12})})})]},e)}))})},K=function(){return Object(Z.jsx)("div",{style:{height:"100vh","--bs-bg-opacity":".5",width:"100vh"},className:"d-flex position-fixed top-0 start-0 w-100 align-items-center justify-content-center",children:Object(Z.jsx)(W.a,{variant:"primary",animation:"border",role:"status",children:Object(Z.jsx)("span",{className:"visually-hidden",children:"Loading..."})})})},V=n(103),$=n(25),ee=function(e){var t=e.page,n=e.next,a=e.refresh,c=e.blur,i=e.current;return Object(Z.jsxs)(V.a,{className:"justify-content-center m-0",children:[Object(Z.jsx)(V.a.Item,{onClick:a,className:"me-3",children:Object(Z.jsx)($.h,{})}),c&&Object(Z.jsx)(V.a.Item,{onClick:function(){c&&c[1]()},className:"me-3",children:c.slice()[0]?Object(Z.jsx)($.d,{}):Object(Z.jsx)($.c,{})}),Object(Z.jsx)(V.a.First,{onClick:function(){return n(new URLSearchParams({page:"1"}))},disabled:1===i}),Object(Z.jsx)(V.a.Prev,{onClick:function(){return n(new URLSearchParams({page:i-1}))},disabled:1===i}),t&&function(){var e=[],a=i,c=i+5;a-=4,c>(null===t||void 0===t?void 0:t.numPages)&&(c=null===t||void 0===t?void 0:t.numPages,a-=5-((null===t||void 0===t?void 0:t.numPages)-i)),a<0&&(a=0,c+=5-i-1);for(var s=function(t){e.push(Object(Z.jsx)(V.a.Item,{onClick:function(){return n(new URLSearchParams({page:t+1}))},active:i===t+1,children:t+1},t+1))},r=a;r<c;r++)s(r);return e}(),Object(Z.jsx)(V.a.Next,{onClick:function(){return n(new URLSearchParams({page:i+1}))},disabled:(null===t||void 0===t?void 0:t.numPages)===i}),Object(Z.jsx)(V.a.Last,{onClick:function(){return n(new URLSearchParams({page:null===t||void 0===t?void 0:t.numPages}))},disabled:(null===t||void 0===t?void 0:t.numPages)===i})]})},te=n(5),ne=n.n(te),ae=n(93);function ce(e){var t={};return e.forEach((function(e,n){t[n]=e})),t}var ie={JAPANESE:"/japan_logo.svg",CHINESE:"/china_logo.svg",ENGLISH:"/us_logo.svg"};var se=function(e){var t,n,a,i,s,o,d=e.doujin,u=e.blur,j=(e.refetch,Object(A.a)(!1)),b=Object(U.a)(j,2),h=b[0],m=b[1],O=null===(t=d.thumbnail)||void 0===t?void 0:t.url;(null===(n=O)||void 0===n?void 0:n.match(/https?/i))&&(O="/api/fetch?url=".concat(null===(a=d.thumbnail)||void 0===a?void 0:a.url));var x=null===(i=d.tags)||void 0===i||null===(s=i.all)||void 0===s||null===(o=s.find((function(e){return e.type.match(/language/i)&&!e.name.match(/translated/i)})))||void 0===o?void 0:o.name,p=ie[x.toUpperCase()],v=Object(r.d)(),y=g({refetchOnFocus:!1,refetchOnReconnect:!1}),w=Object(U.a)(y,2),P=w[0],D=w[1],H=f({refetchOnFocus:!1,refetchOnReconnect:!1}),F=Object(U.a)(H,2),R=F[0],E=F[1];return Object(c.useEffect)((function(){D.isSuccess&&(v(C({header:"Doujin Corner",message:"Successfully added ".concat(d.titles.pretty,"!"),delay:3e3})),v(S(d.id))),D.isError&&v(k(d.id)),E.isSuccess&&(v(C({header:"Doujin Corner",message:"Successfully removed ".concat(d.titles.pretty,"!"),delay:3e3})),v(L(d.id)))}),[E,D,v,d]),Object(Z.jsxs)(_.a,{className:"bg-secondary position-relative",style:{width:"12rem"},children:[Object(Z.jsx)(ae.a,{height:20,width:30,src:p,alt:x,className:"position-absolute top-0 start-0",style:{zIndex:9999}}),Object(Z.jsx)(_.a.Img,{variant:"top",height:"300",src:O,style:{filter:u[0]?"blur(2px)":void 0}}),Object(Z.jsxs)("div",{style:{zIndex:9999},className:"position-absolute top-0 end-0",children:[Object(Z.jsx)(M.a,{onClick:function(){(null===d||void 0===d?void 0:d.availableOffline)?(R(d.id.toString(),!1),v(C({header:"Doujin Corner",message:"Removing ".concat(null===d||void 0===d?void 0:d.titles.pretty),delay:3e3}))):(P(d.id.toString(),!1),v(C({header:"Doujin Corner",message:"Downloading ".concat(null===d||void 0===d?void 0:d.titles.pretty),delay:3e3})),v(N(d.id)))},className:"me-2 p-1",variant:"primary",children:Object(Z.jsx)("small",{children:(null===d||void 0===d?void 0:d.availableOffline)?"Delete":"Download"})}),Object(Z.jsx)(l.b,{className:"btn btn-danger p-1",to:"/manga/".concat(d.id),children:Object(Z.jsx)("small",{children:"Read"})})]}),Object(Z.jsx)(l.b,{onMouseOver:function(){m(!0)},onMouseOut:function(){m(!1)},className:"stretched-link",to:"/online/"+d.id,children:Object(Z.jsx)(_.a.Body,{className:"pb-0 pt-1 position-absolute start-0 w-100 bg-dark bg-opacity-50 bottom-0",children:Object(Z.jsx)(_.a.Title,{style:{fontSize:"16px",transition:"0.2s"},className:ne()("text-center text-white text-decoration-underline",!h&&"text-truncate"),children:d.titles.pretty})})})]})},re=function(){var e,t=Object(A.a)(!0),n=Object(l.c)(new URLSearchParams({page:"1"})),a=Object(U.a)(n,2),c=a[0],i=a[1],s=m({page:c.get("page")||1}),r=function(){return Object(Z.jsx)(ee,{refresh:function(){s.refetch()},next:i,page:null===s||void 0===s?void 0:s.data,blur:t,current:Number(c.get("page")||1)})};return Object(Z.jsxs)(G.a,{className:"d-flex flex-column gap-2 py-2",children:[Object(Z.jsx)(r,{}),Object(Z.jsx)("div",{className:"d-flex flex-wrap gap-2 justify-content-center",children:s.isSuccess&&!s.isFetching?null===(e=s.data)||void 0===e?void 0:e.doujins.map((function(e){return Object(Z.jsx)(se,{refetch:s.refetch,doujin:e,blur:t},e.id)})):Object(Z.jsx)(X,{})}),Object(Z.jsx)(r,{})]})},le=n(106),oe=n(101),de=n(104),ue=n(68),je=n(67),be=n.n(je),he=function(e){var t="/gallery/".concat(e.item.id,"/").concat(be.a.basename(e.item.thumbnail.url));return Object(Z.jsxs)(le.a.Item,{style:{height:"90px"},className:"d-flex bg-secondary position-relative",children:[Object(Z.jsx)(ae.a,{className:"flex-shrink-0 me-2 rounded",src:t,width:"60"}),Object(Z.jsx)(l.b,{className:"d-inline-block text-truncate stretched-link",to:"/manga/".concat(e.item.id),children:e.item.titles.pretty})]})},me=function(){var e,t,n=Object(c.useState)(""),a=Object(U.a)(n,2),i=a[0],s=a[1],r=x(i);return Object(Z.jsx)(oe.a,{expand:"lg",children:Object(Z.jsxs)(G.a,{children:[Object(Z.jsx)(l.b,{to:"/",children:Object(Z.jsx)(oe.a.Brand,{children:Object(Z.jsx)("img",{alt:"",src:"/favicon.png",height:"60",className:"d-inline-block align-top"})})}),Object(Z.jsx)(oe.a.Toggle,{className:"bg-light","aria-controls":"nav"}),Object(Z.jsxs)(oe.a.Collapse,{id:"nav",className:"justify-content-md-end py-2",children:[Object(Z.jsx)(l.b,{className:"nav-link",to:"/online",children:"Online Mode"}),Object(Z.jsxs)(de.a,{className:"position-relative",children:[Object(Z.jsx)(ue.a,{type:"search",placeholder:"Search",className:"me-2","aria-label":"Search",autoComplete:"none",value:i,onChange:function(e){return s(e.target.value)}}),Object(Z.jsx)(_.a,{className:"position-absolute top-100 end-0 rounded mt-2",style:{width:"450px",maxHeight:"400px",zIndex:9999,display:i?void 0:"none"},children:Object(Z.jsxs)(le.a,{className:"overflow-auto",variant:"flush",children:[r.isFetching&&Object(Z.jsx)(le.a.Item,{className:"d-flex align-items-center justify-content-center bg-secondary position-relative",children:Object(Z.jsx)(W.a,{animation:"border",role:"status",children:Object(Z.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}),!r.isFetching&&0===(null===r||void 0===r||null===(e=r.data)||void 0===e?void 0:e.length)&&Object(Z.jsx)(le.a.Item,{className:"d-flex align-items-center justify-content-center bg-secondary position-relative",children:"Nothing Found :("}),r.isSuccess&&(null===(t=r.data)||void 0===t?void 0:t.map((function(e,t){return Object(Z.jsx)(he,{item:e},e.id)})))]})})]})]})]})})},Oe=function(){return Object(Z.jsxs)("div",{style:{height:"100vh"},children:[Object(Z.jsx)(me,{}),Object(Z.jsx)(re,{})]})},xe=n.p+"static/media/temp2.5c1b4c28.png",ge=function(){return Object(Z.jsxs)("div",{className:"position-fixed top-0 start-0 container-fluid",style:{height:"100vh",display:"grid",placeItems:"center",alignContent:"center"},children:[Object(Z.jsx)("h1",{className:"text-danger",children:"404 Not Found"}),Object(Z.jsx)("img",{src:xe,alt:"kono dio da",height:window.innerHeight/2}),Object(Z.jsx)(M.a,{variant:"info",className:"mt-2",onClick:function(){return window.history.back()},children:"Go Home Now"})]})},fe=n(96),pe=n(108),ve=n(95),ye=function(e){var t,n=Object(A.a)(!1),a=Object(U.a)(n,2),i=a[0],s=a[1],r=Object(A.a)(!0),l=Object(U.a)(r,2),o=l[0],d=l[1],u=Object(A.a)(!0),j=Object(U.a)(u,2),b=j[0],h=j[1],m=Object(pe.a)(600,900,300),O=Object(U.a)(m,2),x=O[0],g=O[1],f=Object(ve.a)((function(){var t;window.scrollY<document.body.scrollHeight?window.scrollBy({left:0,top:document.body.scrollHeight/(null===(t=e.manga)||void 0===t?void 0:t.pages.length)*.004,behavior:"smooth"}):s(!1)}),i),p=Object(U.a)(f,2),v=p[0],y=p[1];return Object(c.useEffect)((function(){return i?y():v(),function(){return v()}}),[i,y,v]),Object(c.useEffect)((function(){b?e.setBright("brightness(1)"):e.setBright("brightness(0.65)")}),[b,e]),Object(c.useEffect)((function(){e.setZoom("".concat(x||600,"px"))}),[x,e]),Object(Z.jsxs)("div",{style:{zIndex:9999,height:"6rem"},className:"d-flex gap-2 position-fixed me-3 end-0 top-0 mt-3 ",children:[Object(Z.jsxs)(_.a,{style:{maxWidth:o?"0":"21rem",overflowX:"hidden",transition:"0.2s"},className:"bg-secondary text-center",children:[Object(Z.jsx)(_.a.Header,{className:"text-info text-truncate",children:(null===(t=e.manga)||void 0===t?void 0:t.titles.english)||"..."}),Object(Z.jsxs)(_.a.Body,{className:"p-2 d-flex flex-wrap gap-2",children:[Object(Z.jsx)(M.a,{onClick:function(){g.inc(50)},variant:"outline-primary",className:"px-2 py-1 align-middle",children:Object(Z.jsx)($.j,{alignmentBaseline:"central"})}),Object(Z.jsx)(M.a,{onClick:function(){g.dec(50)},variant:"outline-primary",className:"px-2 py-1 align-middle",children:Object(Z.jsx)($.k,{alignmentBaseline:"central"})}),Object(Z.jsx)(M.a,{onClick:function(){return h()},variant:"outline-primary",className:"px-2 py-1 align-middle",children:b?Object(Z.jsx)($.e,{alignmentBaseline:"central"}):Object(Z.jsx)($.f,{alignmentBaseline:"central"})}),Object(Z.jsx)(M.a,{onClick:function(){return s()},variant:"outline-primary",className:"px-2 py-1 align-middle",children:!1===i?Object(Z.jsx)($.g,{alignmentBaseline:"central"}):Object(Z.jsx)($.i,{alignmentBaseline:"central"})})]})]}),Object(Z.jsx)(M.a,{onClick:d,className:"p-0",children:o?Object(Z.jsx)($.b,{fontSize:"2rem"}):Object(Z.jsx)($.a,{fontSize:"2rem"})})]})},we=function(e){return Object(Z.jsx)("div",{children:Object(Z.jsx)(ae.a,{src:e.src,alt:e.img.pageNumber+"."+e.img.extension,style:{width:"100%"},className:"rounded"})})},Ne=n(110),Se=function(){var e,t,n=Object(B.g)().id,a=O(n),i=Object(c.useState)(window.scrollY/(document.body.scrollHeight-window.innerHeight)),s=Object(U.a)(i,2),r=s[0],l=s[1],o=Object(c.useState)(""),d=Object(U.a)(o,2),u=d[0],j=d[1],b=Object(c.useState)(""),h=Object(U.a)(b,2),m=h[0],x=h[1],g=Object(c.useState)(window.scrollY/(document.body.scrollHeight-window.innerHeight)),f=Object(U.a)(g,2),p=f[0],v=f[1];return Object(Ne.a)("scroll",(function(){l(window.scrollY/(document.body.scrollHeight-window.innerHeight)*100)})),Object(c.useEffect)((function(){v(window.scrollY/(document.body.scrollHeight-window.innerHeight))}),[u]),a.isFetching&&(document.title="Loading..."),Object(c.useEffect)((function(){a.isSuccess&&(document.title=a.data.titles.english)}),[null===(e=a.data)||void 0===e?void 0:e.titles,a.isSuccess]),"undefined"===typeof n||a.isError?Object(Z.jsx)(ge,{}):Object(Z.jsxs)(Z.Fragment,{children:[a.isSuccess&&Object(Z.jsx)(fe.a,{style:{height:"5px",width:"100vh !important",zIndex:9999,position:"fixed",top:0,left:0,transition:"0.1s"},className:"rounded-0 w-100",now:r}),Object(Z.jsxs)("div",{className:"container-fluid",style:{height:"100vh"},children:[a.isLoading&&Object(Z.jsx)(K,{}),Object(Z.jsx)(ye,{setZoom:j,setBright:x,manga:a.data}),Object(Z.jsx)("div",{style:{maxWidth:u,filter:m,transition:"width 0.05s"},onTransitionEnd:function(){window.scrollTo(0,(document.body.scrollHeight-window.innerHeight)*p),console.log(window.scrollY/(document.body.scrollHeight-window.innerHeight))},className:"mx-auto d-flex flex-column align-items-stretch gap-2 mt-2",children:a.isSuccess&&(null===(t=a.data.pages)||void 0===t?void 0:t.map((function(e){var t,n,c="/api/fetch?url=".concat(e.url);(null===(t=a.data)||void 0===t?void 0:t.availableOffline)&&(c="/gallery/".concat(null===a||void 0===a||null===(n=a.data)||void 0===n?void 0:n.id,"/").concat(e.pageNumber,".").concat(e.extension),console.log("offline manga"));return Object(Z.jsx)(we,{img:e,src:c},e.pageNumber)})))})]})]})},ke=function(){var e=Object(c.useState)(""),t=Object(U.a)(e,2),n=t[0];t[1],x(n);return Object(Z.jsx)(oe.a,{expand:"lg",children:Object(Z.jsxs)(G.a,{children:[Object(Z.jsx)(l.b,{to:"/",children:Object(Z.jsx)(oe.a.Brand,{children:Object(Z.jsx)("img",{alt:"",src:"/favicon.png",height:"60",className:"d-inline-block align-top"})})}),Object(Z.jsx)(oe.a.Toggle,{className:"bg-light","aria-controls":"nav"}),Object(Z.jsxs)(oe.a.Collapse,{id:"nav",className:"justify-content-md-end py-2",children:[Object(Z.jsx)(l.b,{className:"nav-link",to:"/",children:"Go Offline"}),Object(Z.jsx)(l.b,{className:"nav-link",to:"/online/search",children:"Search"})]})]})})},Ce=n(54),Le=function(e){var t,n=Object(A.a)(!0),a=Y.a.toPairs(Ce.SortMethods),c=Object(l.c)(new URLSearchParams({page:"1",sort:""})),i=Object(U.a)(c,2),s=i[0],r=i[1],o=H(ce(s)),d=function(){return Object(Z.jsx)(ee,{refresh:function(){o.refetch()},next:function(e){return r(new URLSearchParams(Object(p.a)(Object(p.a)({},ce(s)),ce(e))))},page:null===o||void 0===o?void 0:o.data,blur:n,current:Number(s.get("page")||1)})};return Object(Z.jsxs)(G.a,{className:"d-flex flex-column gap-3 py-2",children:[Object(Z.jsx)(d,{}),Object(Z.jsx)("div",{className:"d-flex justify-content-center gap-2",children:a.map((function(e){return Object(Z.jsx)(M.a,{variant:s.get("sort")===e[1]?"primary":"outline-primary",onClick:function(){return r(new URLSearchParams(Object(p.a)(Object(p.a)({},ce(s)),{},{sort:e[1]})))},children:e[0]},e[0])}))}),Object(Z.jsx)("div",{className:"d-flex flex-wrap gap-4 justify-content-center",children:o.isSuccess&&!o.isFetching?null===(t=o.data)||void 0===t?void 0:t.doujins.map((function(e){return Object(Z.jsx)(se,{refetch:o.refetch,doujin:e,blur:n},e.id)})):o.isError?Object(Z.jsx)(Z.Fragment,{children:Object(Z.jsxs)("div",{className:"h-100 d-flex align-items-center justify-content-center flex-column mx-auto my-5",children:[Object(Z.jsx)("h1",{children:"something went wrong..."}),Object(Z.jsx)(M.a,{className:"w-100",onClick:function(){o.refetch()},children:"Retry?"})]})}):Object(Z.jsx)(X,{num:10})}),Object(Z.jsx)(d,{})]})},Pe=function(e){return Object(Z.jsxs)("div",{style:{height:"100vh"},children:[Object(Z.jsx)(ke,{}),Object(Z.jsx)(Le,{})]})},De=n(97),He=n(98),Fe=n(47),Re=n(102),Ee=n(69);Re.a.addDefaultLocale(Ee);var Ie=new Re.a("en-US"),qe=function(e){var t=e.doujin,n=e.type,a=e.children,i=Object(A.a)(!1),s=Object(U.a)(i,2),r=s[0],l=s[1];return Object(c.useEffect)((function(){(null===t||void 0===t?void 0:t.tags.all.filter((function(e){return e.type===n})).length)<1&&l(!0)}),[null===t||void 0===t?void 0:t.tags.all,l,n]),r?Object(Z.jsx)(Z.Fragment,{}):Object(Z.jsx)("div",{className:"bg-light bg-opacity-75 text-dark rounded p-2 shadow",children:Object(Z.jsxs)("span",{className:"d-inline-flex gap-2 flex-wrap align-items-center",children:[Object(Z.jsx)("span",{className:"fw-bold",children:a}),null===t||void 0===t?void 0:t.tags.all.filter((function(e){return e.type===n})).map((function(e){return console.log(e.url),Object(Z.jsxs)("a",{className:"btn btn-outline-secondary py-1 px-2",href:e.url,target:"_blank",rel:"noreferrer",children:[Object(Z.jsx)("span",{className:"fst-italic me-2",children:e.name}),Object(Z.jsx)(De.a,{bg:"secondary",children:e.count})]},e.id)}))]})})},ze=function(e){var t,n,a,i,s=Object(B.g)().id,o=F(s),d=Object(r.d)(),u=g({refetchOnFocus:!1,refetchOnReconnect:!1}),j=Object(U.a)(u,2),b=j[0],h=j[1],m=f({refetchOnFocus:!1,refetchOnReconnect:!1}),O=Object(U.a)(m,2),x=O[0],p=O[1];return Object(c.useEffect)((function(){o.isSuccess&&(document.title=o.data.titles.pretty)}),[o]),Object(c.useEffect)((function(){if(o.isSuccess){var e,t,n,a,c;if(h.isSuccess)d(C({header:"Doujin Corner",message:"Successfully added ".concat(null===(e=o.data)||void 0===e?void 0:e.titles.pretty,"!"),delay:3e3})),o.refetch(),d(S(null===(t=o.data)||void 0===t?void 0:t.id));if(h.isError)d(k(null===(n=o.data)||void 0===n?void 0:n.id));if(p.isSuccess)d(C({header:"Doujin Corner",message:"Successfully removed ".concat(null===(a=o.data)||void 0===a?void 0:a.titles.pretty,"!"),delay:3e3})),d(L(null===(c=o.data)||void 0===c?void 0:c.id)),o.refetch()}}),[p,h,d,o]),Object(Z.jsx)(G.a,{className:"w-75 py-4 bg-secondary bg-opacity-50 shadow rounded-2 my-3",children:o.isSuccess&&Object(Z.jsxs)(He.a,{className:"text-light",children:[Object(Z.jsx)(Fe.a,{xs:5,children:Object(Z.jsxs)("div",{className:"position-relative",children:[Object(Z.jsx)(l.b,{to:"/manga/".concat(o.data.id),children:Object(Z.jsx)(ae.a,{rounded:!0,style:{width:"100%",filter:"blur(3px)"},src:"/api/fetch?url=".concat(null===(t=o.data)||void 0===t?void 0:t.cover.url)})}),Object(Z.jsxs)("div",{className:"position-absolute top-0 start-0",children:[Object(Z.jsx)(M.a,{onClick:function(){var e,t,n;(null===(e=o.data)||void 0===e?void 0:e.availableOffline)?(x(o.data.id.toString(),!1),d(C({header:"Doujin Corner",message:"Removing ".concat(null===(t=o.data)||void 0===t?void 0:t.titles.pretty),delay:3e3}))):(b(o.data.id.toString(),!1),d(C({header:"Doujin Corner",message:"Downloading ".concat(null===(n=o.data)||void 0===n?void 0:n.titles.pretty),delay:3e3})),d(N(o.data.id)))},className:"me-2",variant:"primary",children:(null===(n=o.data)||void 0===n?void 0:n.availableOffline)?"Delete":"Download"}),Object(Z.jsx)(l.b,{className:"btn btn-danger",to:"/manga/".concat(o.data.id),children:"Read"})]})]})}),Object(Z.jsxs)(Fe.a,{className:"py-2 d-flex flex-wrap align-items-start align-content-start gap-3",children:[Object(Z.jsx)("div",{className:"lead bg-gradient bg-light bg-opacity-50 text-black rounded p-2 shadow flex-fill",children:function(){var e,t,n,a=null===(e=o.data)||void 0===e?void 0:e.titles.english.split(null===(t=o.data)||void 0===t?void 0:t.titles.pretty);return Object(Z.jsxs)(Z.Fragment,{children:[Object(Z.jsx)("span",{className:"fst-italic",children:a[0]}),Object(Z.jsx)("span",{className:"fw-bold",children:null===(n=o.data)||void 0===n?void 0:n.titles.pretty})," ",Object(Z.jsx)("span",{className:"fst-italic",children:a[1]})]})}()}),Object(Z.jsx)(qe,{type:"tag",doujin:o.data,children:"Tags:"}),Object(Z.jsx)(qe,{type:"artist",doujin:o.data,children:"Artists:"}),Object(Z.jsx)(qe,{type:"group",doujin:o.data,children:"Groups:"}),Object(Z.jsx)(qe,{type:"language",doujin:o.data,children:"Languages:"}),Object(Z.jsx)(qe,{type:"category",doujin:o.data,children:"Categories:"}),Object(Z.jsxs)("div",{className:"bg-light bg-opacity-75 text-dark rounded p-2 shadow",children:[Object(Z.jsx)("span",{className:"fw-bold me-1 align-middle",children:"Pages:"}),Object(Z.jsx)("span",{className:"btn btn-outline-secondary py-1",children:null===(a=o.data)||void 0===a?void 0:a.length})]}),Object(Z.jsxs)("div",{className:"bg-light bg-opacity-75 text-dark rounded p-2 shadow",children:[Object(Z.jsxs)("span",{className:"fw-bold me-1 align-middle",children:["Uploaded:"," "]}),Object(Z.jsx)("span",{className:"btn btn-outline-secondary py-1",children:Ie.format(new Date(null===(i=o.data)||void 0===i?void 0:i.uploadDate),"round-minute")})]})]})]})})},Me=function(){return Object(Z.jsx)(Z.Fragment,{})},Qe=function(e){var t,n=Object(A.a)(!0),a=Object(c.useRef)(),i=Y.a.toPairs(Ce.SortMethods),s=Object(l.c)(new URLSearchParams({page:"1",sort:"",q:""})),r=Object(U.a)(s,2),o=r[0],d=r[1],u=R(ce(o)),j=function(){return Object(Z.jsx)(ee,{refresh:function(){u.refetch()},next:function(e){return d(new URLSearchParams(Object(p.a)(Object(p.a)({},ce(o)),ce(e))))},page:null===u||void 0===u?void 0:u.data,blur:n,current:Number(o.get("page")||1)})};return Object(Z.jsxs)(G.a,{className:"d-flex flex-column gap-3 py-2",children:[Object(Z.jsx)(de.a,{className:"container",onSubmit:function(e){var t;e.preventDefault(),d(Object(p.a)(Object(p.a)({},ce(o)),{},{q:null===(t=a.current)||void 0===t?void 0:t.value}))},children:Object(Z.jsx)(ue.a,{type:"search",placeholder:"Search","aria-label":"Search",autoComplete:"none",ref:a})}),Object(Z.jsx)(j,{}),Object(Z.jsx)("div",{className:"d-flex justify-content-center gap-2",children:i.map((function(e){return Object(Z.jsx)(M.a,{variant:o.get("sort")===e[1]?"primary":"outline-primary",onClick:function(){return d(new URLSearchParams(Object(p.a)(Object(p.a)({},ce(o)),{},{sort:e[1]})))},children:e[0]},e[0])}))}),Object(Z.jsx)("div",{className:"d-flex flex-wrap gap-4 justify-content-center",children:u.isSuccess&&!u.isFetching?null===(t=u.data)||void 0===t?void 0:t.doujins.map((function(e){return Object(Z.jsx)(se,{refetch:u.refetch,doujin:e,blur:n},e.id)})):u.isError?Object(Z.jsx)(Z.Fragment,{children:Object(Z.jsxs)("div",{className:"h-100 d-flex align-items-center justify-content-center flex-column mx-auto my-5",children:[Object(Z.jsx)("h1",{children:"Search something..."}),Object(Z.jsx)(M.a,{className:"w-100",onClick:function(){var e;null===(e=a.current)||void 0===e||e.focus()},children:"Search"})]})}):Object(Z.jsx)(X,{num:10})}),Object(Z.jsx)(j,{})]})},Be=(n(83),function(){Object(B.e)();var e=Object(B.f)();return Object(Z.jsx)(z.a,{vertical:!0,style:{right:"2rem",bottom:"3rem",position:"fixed"},children:Object(Z.jsxs)(Z.Fragment,{children:[Object(Z.jsx)(M.a,{onClick:function(){return window.scroll({behavior:"smooth",top:0,left:0})},children:Object(Z.jsx)(Q.a,{fontSize:"3rem"})}),Object(Z.jsx)(M.a,{variant:"secondary",onClick:function(){return e("/")},children:"Go Back"})]})})}),Ue=function(){return Object(Z.jsx)(Z.Fragment,{children:Object(Z.jsxs)(B.c,{children:[Object(Z.jsx)(B.a,{path:"/",caseSensitive:!0,element:Object(Z.jsx)(Oe,{})}),Object(Z.jsx)(B.a,{path:"/manga",caseSensitive:!0,children:Object(Z.jsx)(B.a,{path:":id",element:Object(Z.jsxs)(Z.Fragment,{children:[Object(Z.jsx)(Se,{}),Object(Z.jsx)(Be,{})]})})}),Object(Z.jsx)(B.a,{path:"/online",caseSensitive:!0,element:Object(Z.jsx)(Pe,{})}),Object(Z.jsx)(B.a,{path:"/online/search",element:Object(Z.jsxs)(Z.Fragment,{children:[Object(Z.jsx)(ke,{}),Object(Z.jsx)(Qe,{})]})}),Object(Z.jsx)(B.a,{path:"/online/:id",element:Object(Z.jsxs)(Z.Fragment,{children:[Object(Z.jsx)(ke,{}),Object(Z.jsx)(ze,{})]})}),Object(Z.jsx)(B.a,{path:"/online/downloads",element:Object(Z.jsxs)(Z.Fragment,{children:[Object(Z.jsx)(ke,{}),Object(Z.jsx)(Me,{})]})}),Object(Z.jsx)(B.a,{path:"*",element:Object(Z.jsx)(ge,{})})]})})},Ge=(n(84),n(105)),Ae=n(100),Te=function(e){var t=Object(A.a)(!0),n=Object(U.a)(t,2),a=n[0],c=n[1];return Object(Z.jsxs)(Ge.a,{onClose:function(){return c(!1)},show:a,animation:!0,autohide:!!e.delay,delay:e.delay,children:[Object(Z.jsxs)(Ge.a.Header,{children:[Object(Z.jsx)("img",{src:"/favicon.png",height:"20",className:"me-2",alt:"Logo"}),Object(Z.jsx)("strong",{className:"me-auto",children:e.header}),Object(Z.jsx)("small",{className:"text-muted",children:Ie.format(e.createdAt)})]}),Object(Z.jsx)(Ge.a.Body,{children:e.message})]})},Ye=function(){var e=I((function(e){return e.downloads.toasts}));return Object(Z.jsx)(Ae.a,{style:{zIndex:1e4},position:"bottom-end",className:"p-3 position-fixed",children:e.map((function(e){return Object(Z.jsx)(Te,Object(p.a)({},e),e.id)}))})};s.a.render(Object(Z.jsxs)(r.a,{store:q,children:[Object(Z.jsx)(Ye,{}),Object(Z.jsx)(l.a,{children:Object(Z.jsx)(Ue,{})})]}),document.querySelector("#container"))}},[[85,1,2]]]);
//# sourceMappingURL=main.c8c64551.chunk.js.map