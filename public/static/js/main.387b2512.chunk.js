(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{109:function(e,t,n){e.exports={TopComponent:"TopComponent_TopComponent__1Q20b"}},110:function(e,t,n){e.exports={p_overflow:"Footer_p_overflow__1OIkf"}},136:function(e,t,n){},137:function(e,t,n){},138:function(e,t,n){"use strict";n.r(t);n(115);var a,r,c,s,i=n(3),o=n(49),l=n.n(o),d=n(19),j=n(151),b=n(20),u=n(13),h=n(16),m=n(89),x=n(5),O=function(e){var t=e.item;return Object(x.jsxs)(d.b,{className:"flex-item",title:t.name,to:"/manga?id=".concat(t.id),children:[Object(x.jsx)("img",{className:"bg-img",src:t.cover||void 0}),Object(x.jsx)("div",{className:"description",children:Object(x.jsx)("p",{children:t.name})})]})},g=n(52),v=n(102),f=n.n(v),p=n(103),_=n.n(p),N=n(42),y=n.n(N),k=n(144),S=function(e){var t=Object(k.a)("p_index"),n=_.a.chunk(e.data,10),a={text:Object(g.useSpring)({from:{opacity:1},opacity:0,loop:{reverse:!0},reset:!0})},r=function(e){if("string"===typeof t){if(Number(t)<n.length&&e===Number(t))return!0;if(t.match(/last/i)&&e===n.length-1)return!0;if(t.match(/first/i)&&0===e)return!0}else if(0===e)return!0;return!1};return Object(x.jsxs)("div",{className:"main-reader",children:[Object(x.jsxs)("div",{className:"nav",children:[t&&0!==Number(t)?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(d.b,{to:"/?p_index=0",children:Object(x.jsx)("button",{disabled:r(0),className:"prev",children:Object(x.jsx)(b.a,{})})}),Object(x.jsx)(d.b,{to:"/?p_index=".concat(Number(t)-1),children:Object(x.jsx)("button",{disabled:r(0),className:"prev",children:Object(x.jsx)(b.c,{})})})]}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("button",{disabled:r(0),className:"prev",children:Object(x.jsx)(b.a,{})}),Object(x.jsx)("button",{disabled:!0,className:"prev",children:Object(x.jsx)(b.c,{})})]}),Number(t||0)!==n.length-1?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(d.b,{to:"/?p_index=".concat(Number(t||0)+1),children:Object(x.jsx)("button",{disabled:t?Number(t)===n.length-1:void 0,className:"next",children:Object(x.jsx)(b.d,{})})}),Object(x.jsx)(d.b,{to:"/?p_index=".concat(n.length-1),children:Object(x.jsx)("button",{disabled:t?Number(t)===n.length-1:void 0,className:"next",children:Object(x.jsx)(b.b,{})})})]}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("button",{disabled:t?Number(t)===n.length-1:void 0,className:"next",children:Object(x.jsx)(b.d,{})}),Object(x.jsx)("button",{disabled:t?Number(t)===n.length-1:void 0,className:"next",children:Object(x.jsx)(b.b,{})})]})]}),Object(x.jsx)("div",{className:"main-reader-box",children:!e.loading&&e.data?Object(x.jsx)("div",{className:f()("main-reader-flex","current"),children:n[t?Number(t):0].map((function(e){return Object(x.jsx)(O,{item:e},e.id)}))}):Object(x.jsx)("div",{className:y.a.loading_style,children:Object(x.jsx)("h3",{children:Object(x.jsx)(g.animated.span,{style:a.text,children:"Loading..."})})})})]})},w=n(69),B=n.n(w),C=function(e){var t=e.children,n=e.hasErrors,a=e.errors,r=e.retry,c=(e.loading,e.status);return n?(console.log(n),Object(x.jsxs)("div",{className:B.a.errorBlock,children:[Object(x.jsx)("h3",{children:"Something went wrong..."}),Object(x.jsx)("button",{className:B.a.retryBtn,onClick:function(){return r()},style:{cursor:4===c?"progress":"pointer"},children:4===c?"Retrying...":"Retry?"}),Object(x.jsx)("code",{className:B.a.errorMsg,children:null===a||void 0===a?void 0:a.message})]})):Object(x.jsx)(x.Fragment,{children:t})},F=n(18),q=n(58),z=n(154),A=n(145),E=n(146),I={},$=Object(z.a)(a||(a=Object(q.a)(["\n    query AllMangas($refresh: Boolean, $slice: Int, $limit: Int) {\n  list: mangas(refresh: $refresh, cursor: $slice, limit: $limit) {\n    id\n    name\n    pathname\n    createdAt\n    size\n    cover\n  }\n  total\n}\n    "])));var R=Object(z.a)(r||(r=Object(q.a)(["\n    query getManga($id: ID!) {\n  manga(id: $id) {\n    id\n    name\n    pathname\n    createdAt\n    size\n    data {\n      name\n      path\n    }\n  }\n}\n    "])));var L=Object(z.a)(c||(c=Object(q.a)(["\n    query SearchManga($s: String) {\n  search(term: $s) {\n    id\n    name\n    cover\n  }\n}\n    "])));var T=Object(z.a)(s||(s=Object(q.a)(["\n    query updateData {\n  update\n}\n    "])));var V=function(){var e,t,n,a=function(e){var t=Object(F.a)(Object(F.a)({},I),e);return A.a($,t)}({partialRefetch:!0,notifyOnNetworkStatusChange:!0}),r=Object(i.useState)({isSearched:!1}),c=Object(h.a)(r,2),s=c[0],o=c[1],l=function(e){var t=Object(F.a)(Object(F.a)({},I),e);return E.a(T,t)}(),j=Object(h.a)(l,1)[0],b=function(e){var t=Object(F.a)(Object(F.a)({},I),e);return E.a(L,t)}(),u=Object(h.a)(b,2),O=u[0],g=u[1];return Object(i.useEffect)((function(){g.called&&!g.loading&&g.data&&g.data.search&&o({isSearched:!0,data:g.data.search})}),[g.called,g.loading,g.data]),Object(x.jsxs)("div",{id:"main",children:[Object(x.jsxs)("div",{className:y.a.header_flex,children:[Object(x.jsx)("h1",{className:"logo",children:Object(x.jsx)(d.b,{to:"/",style:{color:"white"},children:Object(x.jsx)("div",{children:"Reader"})})}),Object(x.jsxs)("div",{className:"btn-flex",children:[Object(x.jsxs)("button",{onClick:function(){return a.refetch({refresh:!0})},className:y.a.refresh_btn,children:[Object(x.jsx)(m.a,{fontSize:"1.2rem"}),Object(x.jsx)("span",{children:"Refresh"})]}),Object(x.jsxs)("button",{onClick:function(){return j()},className:y.a.refresh_btn,children:[Object(x.jsx)(m.a,{fontSize:"1.2rem"}),Object(x.jsx)("span",{children:"Covers"})]})]})]}),Object(x.jsxs)("div",{className:"search-bar",children:[Object(x.jsx)("input",{type:"text",name:"search",placeholder:"Search...",onChange:function(e){if(!e.target.value)return o({isSearched:!1,data:void 0});O({variables:{s:e.target.value}})},onBlur:function(){return o({isSearched:!1})}}),s.isSearched&&Object(x.jsx)("div",{className:"search-list",children:s.data&&(null===s||void 0===s||null===(e=s.data)||void 0===e?void 0:e.map((function(e){return Object(x.jsxs)(d.b,{to:"/manga?id=".concat(e.id),className:"search-item",title:e.name,children:[Object(x.jsx)("div",{className:"cover-img",style:{backgroundImage:"url('".concat(e.cover,"')"),backgroundSize:"cover",backgroundPosition:"center",minWidth:"3rem",height:"4rem",backgroundColor:"#444"}}),Object(x.jsx)("div",{className:"name",children:e.name})]})})))})]}),Object(x.jsx)(C,{status:a.networkStatus,loading:a.loading,retry:a.refetch,hasErrors:Boolean(a.error),errors:a.error,children:Object(x.jsx)(S,{total:null===a||void 0===a||null===(t=a.data)||void 0===t?void 0:t.total,data:null===a||void 0===a||null===(n=a.data)||void 0===n?void 0:n.list,loading:a.loading,refetch:a.refetch})})]})},G=n(147),P=n(91),M=n(106),H=n(107),Q=n.p+"static/media/404.6a579c40.jpg",J=function(e){var t=e.panelImg;return Object(x.jsx)("div",{className:"panel",children:Object(x.jsx)(H.a,{src:"/".concat(t.path),alt:t.name,error:Q,style:t?{}:{background:"#444",height:"500px"}})})},K=n(108),Z=function(e){var t=e.manga,n=e.zoomValue,a=void 0===n?5:n,r=e.brightVal,c=void 0===r?100:r,s=e.setBright,i=e.setZoomVal;return Object(x.jsxs)("header",{children:[Object(x.jsx)("h2",{className:"logo",children:t?t.name:"..."}),Object(x.jsxs)("nav",{children:[Object(x.jsxs)("div",{className:"bright-control",children:[Object(x.jsx)("span",{children:c}),Object(x.jsx)("input",{type:"range",min:"0",max:"100",onChange:function(e){return s(e.target.valueAsNumber)},value:c})]}),Object(x.jsxs)("div",{className:"zoom-control",children:[Object(x.jsx)("button",{type:"button",onClick:function(){return i(a>1?a-1:1)},children:Object(x.jsx)(b.g,{})}),Object(x.jsx)("input",{type:"text",onChange:function(e){return e.target.valueAsNumber<=10&&e.target.valueAsNumber>0&&i(e.target.valueAsNumber)},value:a}),Object(x.jsx)("button",{type:"button",onClick:function(){return i(a<10?a+1:10)},children:Object(x.jsx)(b.h,{})})]})]})]})};Z.defaultProps={manga:{name:"",data:[]}};var D=Z,W=K.animateScroll,U=function(){var e,t,n=Object(u.f)(),a=function(e){var t=Object(F.a)(Object(F.a)({},I),e);return A.a(R,t)}({variables:{id:new URLSearchParams(n.search).get("id")||""}}),r=a.loading,c=a.data,s=a.error,o=a.refetch,l=Object(G.a)("zoomValue",5),d=Object(h.a)(l,2),j=d[0],b=d[1],m=Object(G.a)("brightValue",100),O=Object(h.a)(m,2),v=O[0],f=O[1],p={text:Object(g.useSpring)({from:{opacity:1},opacity:0,loop:{reverse:!0},reset:r})},_=P.a.create({brightnessAdjust:{filter:"brightness(".concat(v,"%)")},widthAdjust:{maxWidth:"".concat(700*((j||5)/10+.5),"px"),transition:"0.3s"}});return Object(i.useEffect)((function(){r?document.title="Loading...":(null===c||void 0===c?void 0:c.manga)&&(document.title=c.manga.name)})),Object(i.useEffect)((function(){W.scrollToTop()}),[]),Object(x.jsxs)("div",{children:[r&&Object(x.jsx)("div",{className:y.a.loading_style,children:Object(x.jsx)("h3",{children:Object(x.jsx)(g.animated.span,{style:p.text,children:"Loading..."})})}),Object(x.jsx)(C,{loading:r,hasErrors:Boolean(s),errors:s,retry:o,children:Object(x.jsxs)("div",{className:"wrapper",children:[!r&&Object(x.jsx)(M.a,{height:"3px",top:"30px",color:"#546",bgColor:"#aae"}),Object(x.jsx)(D,{manga:!r&&(null===c||void 0===c?void 0:c.manga),zoomValue:j,brightVal:v,setBright:f,setZoomVal:b}),Object(x.jsx)("div",{className:Object(P.b)(_.brightnessAdjust,_.widthAdjust),id:"viewer",children:!r&&(null===c||void 0===c||null===(e=c.manga)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.map((function(e,t){return Object(x.jsx)(J,{panelImg:e},t)})))})]})})]})},X=n(70),Y=n.n(X),ee=function(){return Object(x.jsxs)("div",{className:Y.a.NotFoundBlock,children:[Object(x.jsx)("h1",{children:"404 Not Found"}),Object(x.jsx)("code",{className:Y.a.NotFoundCodeBlock,children:"The Page you're looking for isn't here :P."}),Object(x.jsx)(d.b,{className:Y.a.GoHomeLink,to:"/",children:"Go Home Now"})]})},te=(n(136),function(){return Object(x.jsxs)(u.c,{children:[Object(x.jsx)(u.a,{exact:!0,path:"/",component:V}),Object(x.jsx)(u.a,{path:"/manga",component:U}),Object(x.jsx)(u.a,{component:ee})]})}),ne=n(109),ae=n.n(ne),re=(n(137),n(110)),ce=n.n(re),se=function(){return Object(x.jsx)("footer",{children:Object(x.jsxs)("p",{className:ce.a.p_overflow,children:["Thanks for Reading my manga reader ",Object(x.jsx)(b.f,{fontSize:"1.2rem"})]})})},ie=n(152),oe=n(153),le=new ie.a({uri:"https://7800-cyan-planarian-rndv23dl.ws-us14.gitpod.io/api/ql",cache:new oe.a}),de=function(){return Object(x.jsx)("button",{className:ae.a.TopComponent,onClick:function(){return window.scroll({behavior:"smooth",top:0,left:0})},children:Object(x.jsx)(b.e,{fontSize:"2rem"})})};l.a.render(Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(d.a,{children:Object(x.jsx)(j.a,{client:le,children:Object(x.jsx)(te,{})})}),Object(x.jsx)(de,{}),Object(x.jsx)(se,{})]}),document.querySelector("#container"))},42:function(e,t,n){e.exports={loading_style:"main_loading_style__2G4cK",header_flex:"main_header_flex__1Iskj",refresh_btn:"main_refresh_btn__32hfI",search_bar:"main_search_bar__3bGK_",marquee:"main_marquee__3mj9g",marquee_child:"main_marquee_child__3P3ZP",marquee_animation:"main_marquee_animation__io12I"}},69:function(e,t,n){e.exports={errorMsg:"ErrorBlock_errorMsg__unQtQ",errorBlock:"ErrorBlock_errorBlock__1axJR",retryBtn:"ErrorBlock_retryBtn__24kR1"}},70:function(e,t,n){e.exports={NotFoundBlock:"404_NotFoundBlock__15Qde",NotFoundCodeBlock:"404_NotFoundCodeBlock__1G6qK",GoHomeLink:"404_GoHomeLink__2LEpy"}}},[[138,1,2]]]);
//# sourceMappingURL=main.387b2512.chunk.js.map