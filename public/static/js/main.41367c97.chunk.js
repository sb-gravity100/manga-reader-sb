(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{65:function(e,t){},68:function(e,t,n){},69:function(e,t,n){},7:function(e,t,n){e.exports={scroll_btn:"style_scroll_btn__2DVon",center:"style_center__2ktxo",header:"style_header__QLGaS",flex_column:"style_flex_column__2GipV",transitionize:"style_transitionize__2Cutg",NotFoundBlock:"style_NotFoundBlock__3nBZt",NotFoundCodeBlock:"style_NotFoundCodeBlock__3eTYR",GoHomeLink:"style_GoHomeLink__FUFnD",errorMsg:"style_errorMsg__3EXXt",errorBlock:"style_errorBlock__2rrBe",retryBtn:"style_retryBtn__obQzX",p_overflow:"style_p_overflow__2lbNJ",loading_style:"style_loading_style__Q5HdP",header_flex:"style_header_flex__BGuEN",logo:"style_logo__1aLeU",refresh_btn:"style_refresh_btn__3OP8f",TopComponent:"style_TopComponent__U8fwL"}},70:function(e,t,n){"use strict";n.r(t);n(44);var r=n(1),c=n(22),o=n.n(c),s=n(8),a=n(16),i=n(24),l=n(3),d=Object(l.d)({initialState:{blur:!0,zoom:5,page:{current:0},limit:10,brightness:100,search:"",refresh:!1,_updateCovers:!1},name:"control",reducers:{setZoom:function(e,t){e.zoom=t.payload},setBrightness:function(e,t){e.brightness=t.payload},setSearch:function(e,t){e.search=t.payload},clearSearch:function(e){e.search=""},toggleBlur:function(e){e.blur=!e.blur},toggleRefresh:function(e){e.refresh=!e.refresh},toggleCpvers:function(e){e._updateCovers=!e._updateCovers},setPage:function(e,t){Object.assign(e.page,t.payload)},gotoPage:function(e,t){e.page.current=e.page[t.payload]}}}),u=d.actions,j=u.setZoom,b=(u.setBrightness,u.setSearch),h=u.clearSearch,f=u.toggleBlur,m=(u.toggleCpvers,u.toggleRefresh,u.setPage),x=(u.gotoPage,d.reducer),g=n(38),O=n(10),v=Object(g.a)({reducerPath:"MangaApi",baseQuery:Object(O.d)({baseUrl:"/api"}),endpoints:function(e){return{allMangas:e.query({query:function(e){return{url:"/mangas",params:e||{page:0,limit:10}}}}),getManga:e.query({query:function(e){return"/manga/".concat(e)}}),search:e.query({query:function(e){return"/search?q=".concat(e||"")}})}}}),p=v,_=v.useAllMangasQuery,y=v.useGetMangaQuery,N=(v.useLazySearchQuery,v.useSearchQuery),k=(v.useLazyAllMangasQuery,v.useLazyGetMangaQuery,v.usePrefetch,Object(l.a)({reducer:Object(i.a)({controls:x},p.reducerPath,p.reducer),middleware:function(e){return e().concat(p.middleware)}})),C=s.e,B=function(){return Object(s.d)()},z=k,S=n(13),w=n(6),F=n(71),L=n(39),E=n(34),P=n(20),M=n.n(P),Q=n(2),G=function(e){var t=e.item,n=C((function(e){return e.controls.blur}));return Object(Q.jsxs)(a.b,{className:"flex-item",title:t.name,to:"/manga?id=".concat(t.id),children:[Object(Q.jsx)("img",{className:M()("bg-img",n&&"blur-img"),src:t.cover||void 0}),Object(Q.jsx)("div",{className:"description",children:Object(Q.jsx)("p",{children:t.name})})]})},q=n(18),R=n.n(q),U=n(7),T=n.n(U),V=function(){return Object(Q.jsx)("div",{className:T.a.loading_style,children:Object(Q.jsx)("h3",{children:Object(Q.jsx)("div",{className:"loading-animation",children:"Loading..."})})})},H=n(33),A=n.n(H),I=function(e){var t=C((function(e){return e.controls.page})),n=Object(w.f)(),r=function(e){var t=A.a.parse(n.location.search.slice(1));n.push({search:"?"+A.a.stringify(R.a.merge(t,{page:e}))})};return Object(Q.jsxs)("div",{className:"nav",children:[Object(Q.jsx)("button",{disabled:R.a.isUndefined(t.first)||t.current===t.first,onClick:function(){return r(t.first)},children:Object(Q.jsx)(S.a,{})}),Object(Q.jsx)("button",{disabled:R.a.isUndefined(t.next)||t.current===t.first,onClick:function(){return r(t.prev)},children:Object(Q.jsx)(S.c,{})}),Object(Q.jsx)("button",{disabled:R.a.isUndefined(t.next)||t.current===t.last,onClick:function(){return r(t.next)},children:Object(Q.jsx)(S.d,{})}),Object(Q.jsx)("button",{disabled:R.a.isUndefined(t.last)||t.current===t.last,onClick:function(){return r(t.last)},children:Object(Q.jsx)(S.b,{})})]})},J=function(e){var t;return Object(Q.jsxs)("div",{className:"main-reader",children:[Object(Q.jsx)(I,{}),Object(Q.jsx)("div",{className:"main-reader-box",children:!e.loading&&e.data?Object(Q.jsx)("div",{className:M()("main-reader-flex","current"),children:null===(t=e.data)||void 0===t?void 0:t.map((function(e){return Object(Q.jsx)(G,{item:e},e.id)}))}):Object(Q.jsx)(V,{})})]})},X=function(e){var t=e.children,n=e.hasErrors,r=e.errors,c=e.retry,o=e.isFetching;return n?(console.log(r),Object(Q.jsxs)("div",{className:T.a.errorBlock,children:[Object(Q.jsx)("h3",{children:"Something went wrong..."}),Object(Q.jsx)("button",{className:T.a.retryBtn,onClick:function(){return c()},style:{cursor:o?"progress":"pointer"},children:o?"Retrying...":"Retry?"}),Object(Q.jsx)("code",{className:T.a.errorMsg,children:(null===r||void 0===r?void 0:r.message)||404===(null===r||void 0===r?void 0:r.originalStatus)?"Connection to server cannot be reached.":r.error})]})):Object(Q.jsx)(Q.Fragment,{children:t})},Z=function(e){return Object(Q.jsxs)(a.b,{to:"/manga?id=".concat(e.item.id),className:"search-item",title:e.item.name,children:[Object(Q.jsx)("div",{className:"cover-img",style:{backgroundImage:"url('".concat(e.item.cover,"')")}}),Object(Q.jsxs)("div",{children:[R.a.chunk(e.item.name.split(" "),8).map((function(e,t){return Object(Q.jsx)("div",{children:e.join(" ")},t)})),"..."]})]})},D=function(e){var t=C((function(e){return e.controls.search})),n=B(),r=N(t);return Object(Q.jsxs)("div",{className:"search-bar",children:[Object(Q.jsx)("input",{type:"text",name:"search",placeholder:"Search...",onChange:function(e){e.target.value?n(b(e.target.value)):n(h())},autoComplete:"off"}),r.isSuccess&&r.data.length>0&&Object(Q.jsx)("div",{className:"search-list",children:r.data.map((function(e){return Object(Q.jsx)(Z,Object(L.a)({},e))}))})]})},W=function(){var e,t,n=C((function(e){return e.controls})),c=n.page,o=n.limit,s=C((function(e){return e.controls.blur})),i=_({page:c.current,limit:o}),l=B();return Object(r.useEffect)((function(){var e,t,n,r,c,o,s,a,d;l(m({current:0,next:null===(e=i.data)||void 0===e||null===(t=e.next)||void 0===t?void 0:t.page,prev:null===(n=i.data)||void 0===n||null===(r=n.prev)||void 0===r?void 0:r.page,last:null===(c=i.data)||void 0===c||null===(o=c.last)||void 0===o?void 0:o.page,first:null===(s=i.data)||void 0===s||null===(a=s.first)||void 0===a?void 0:a.page,total:null===(d=i.data)||void 0===d?void 0:d.total}))}),[i,l,m]),Object(Q.jsxs)("div",{id:"main",children:[Object(Q.jsxs)("div",{className:T.a.header_flex,children:[Object(Q.jsx)("h1",{className:"logo",children:Object(Q.jsx)(a.b,{to:"/",children:Object(Q.jsx)("div",{children:"Reader"})})}),Object(Q.jsxs)("div",{className:"btn-flex",children:[Object(Q.jsxs)("button",{onClick:function(){return i.refetch()},className:T.a.refresh_btn,children:[Object(Q.jsx)(E.a,{fontSize:"1.2rem"}),Object(Q.jsx)("div",{children:"Refresh"})]}),Object(Q.jsxs)("button",{onClick:function(){return i.refetch()},className:T.a.refresh_btn,children:[Object(Q.jsx)(E.a,{fontSize:"1.2rem"}),Object(Q.jsx)("div",{children:"Covers"})]}),Object(Q.jsxs)("button",{onClick:function(){return l(f())},className:M()("is-blur-check",T.a.refresh_btn),children:[Object(Q.jsx)("input",{type:"checkbox",checked:s,onChange:function(){return l(f())}}),Object(Q.jsx)("div",{children:"Blur"})]})]})]}),Object(Q.jsx)(D,{}),Object(Q.jsx)(X,{retry:function(){return i.refetch()},hasErrors:i.isError,errors:i.error,isFetching:i.isFetching,children:Object(Q.jsx)(J,{total:null===i||void 0===i||null===(e=i.data)||void 0===e?void 0:e.items.length,data:null===i||void 0===i||null===(t=i.data)||void 0===t?void 0:t.items,loading:i.isFetching,refetch:function(){return i.refetch()}})})]})},Y=n(41),K=n(42),$=n.p+"static/media/404.6a579c40.jpg",ee=function(e){var t=e.panelImg;return Object(Q.jsx)("div",{className:"panel",children:Object(Q.jsx)(K.a,{src:"/".concat(t.path),alt:t.name,error:$,style:t?{}:{background:"#444",height:"500px"}})})},te=function(e){var t=e.manga,n=e.zoomValue,r=void 0===n?5:n,c=(e.brightVal,B());return Object(Q.jsxs)("header",{children:[Object(Q.jsx)("h2",{className:"logo",children:(null===t||void 0===t?void 0:t.name)||"..."}),Object(Q.jsxs)("nav",{children:[Object(Q.jsx)("div",{className:"bright-control",children:Object(Q.jsx)("button",{children:Object(Q.jsx)(S.g,{fontSize:"1.1rem"})})}),Object(Q.jsxs)("div",{className:"zoom-control",children:[Object(Q.jsx)("button",{type:"button",onClick:function(){return c(j(r>1?r-1:1))},children:Object(Q.jsx)(S.h,{})}),Object(Q.jsx)("input",{type:"text",value:r,contentEditable:"false"}),Object(Q.jsx)("button",{type:"button",onClick:function(){return c(j(r<10?r+1:10))},children:Object(Q.jsx)(S.i,{})})]})]})]})},ne=n(35),re=function(){var e,t=Object(F.a)("id")||"",n=y(Number(t)),c=n.data,o=n.isLoading,s=n.error,a=n.refetch,i=n.isFetching,l=C((function(e){return e.controls})),d=700*(l.zoom/10+.5),u=ne.a.create({main:{filter:"brightness(".concat(l.brightness,"%)"),maxWidth:"".concat(d,"px"),transition:"0.3s"}});return Object(r.useEffect)((function(){o?document.title="Loading...":c&&(document.title=null===c||void 0===c?void 0:c.name)})),Object(r.useEffect)((function(){window.scroll({top:0,left:0})}),[]),Object(Q.jsxs)("div",{children:[o&&Object(Q.jsx)(V,{}),Object(Q.jsx)(X,{hasErrors:Boolean(s),errors:s,retry:a,isFetching:i,children:Object(Q.jsxs)("div",{className:"wrapper",children:[!o&&Object(Q.jsx)(Y.a,{height:"5px",bgColor:"#1c2122",top:"30px",color:"#50d8d7"}),Object(Q.jsx)(te,{manga:c,zoomValue:l.zoom,brightVal:l.brightness}),Object(Q.jsx)("div",{className:Object(ne.b)(u.main),id:"viewer",children:!o&&(null===c||void 0===c||null===(e=c.data)||void 0===e?void 0:e.map((function(e,t){return Object(Q.jsx)(ee,{panelImg:e},t)})))})]})})]})},ce=function(){return Object(Q.jsxs)("div",{className:T.a.NotFoundBlock,children:[Object(Q.jsx)("h1",{children:"404 Not Found"}),Object(Q.jsx)("code",{className:T.a.NotFoundCodeBlock,children:"The Page you're looking for isn't here :P."}),Object(Q.jsx)(a.b,{className:T.a.GoHomeLink,to:"/",children:"Go Home Now"})]})},oe=(n(68),function(){var e=Object(F.a)("page"),t=B();return Object(r.useEffect)((function(){e&&t(m({current:Number(e)}))}),[e]),Object(Q.jsxs)(w.c,{children:[Object(Q.jsx)(w.a,{exact:!0,path:"/",component:W}),Object(Q.jsx)(w.a,{path:"/manga",component:re}),Object(Q.jsx)(w.a,{component:ce})]})}),se=(n(69),function(){return Object(Q.jsx)("footer",{children:Object(Q.jsxs)("p",{className:T.a.p_overflow,children:["Thanks for Reading my manga reader ",Object(Q.jsx)(S.f,{fontSize:"1.2rem"})]})})}),ae=function(){return Object(Q.jsx)("button",{className:T.a.TopComponent,onClick:function(){return window.scroll({behavior:"smooth",top:0,left:0})},children:Object(Q.jsx)(S.e,{fontSize:"2rem"})})};o.a.render(Object(Q.jsx)(Q.Fragment,{children:Object(Q.jsxs)(s.a,{store:z,children:[Object(Q.jsx)(a.a,{children:Object(Q.jsx)(oe,{})}),Object(Q.jsx)(ae,{}),Object(Q.jsx)(se,{})]})}),document.querySelector("#container"))}},[[70,1,2]]]);
//# sourceMappingURL=main.41367c97.chunk.js.map