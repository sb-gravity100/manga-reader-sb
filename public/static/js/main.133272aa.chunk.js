(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{105:function(e,t,n){},106:function(e,t,n){},107:function(e,t,n){"use strict";n.r(t);n(91);var a,c=n(1),i=n(29),s=n.n(i),r=n(18),l=n(15),o=n(9),d=n(8),u=n(64),j=n(23),b=Object(u.a)({reducerPath:"MangaApi",baseQuery:Object(j.d)({baseUrl:"/api"}),endpoints:function(e){return{allMangas:e.query({query:function(e){return{url:"/mangas",params:e}}}),getManga:e.query({query:function(e){return{url:"/doujin",params:{id:e}}}}),search:e.query({query:function(e){return{url:"/search",params:"string"===typeof e?{q:e}:e}}}),saveManga:e.query({query:function(e){return{url:"/save",params:{id:e}}}}),removeManga:e.query({query:function(e){return{url:"/remove",params:{id:e}}}})}}}),h=b,m=b.useAllMangasQuery,O=b.useGetMangaQuery,x=(b.useLazySearchQuery,b.useSearchQuery),f=(b.useLazyAllMangasQuery,b.useLazyGetMangaQuery,b.usePrefetch,b.useLazySaveMangaQuery),g=(b.useSaveMangaQuery,b.useLazyRemoveMangaQuery),p=(b.useRemoveMangaQuery,n(3)),v=Object(d.d)({initialState:{results:[],toasts:[]},name:"Downloads",reducers:{add:function(e,t){var n={id:"".concat(e.results.length,"_").concat(Date.now()),doujinID:t.payload,timeAdded:Date.now()};e.results.push(n)},error:function(e,t){var n=e.results.findIndex((function(e){return e.id===t.payload}));n>-1&&(e.results[n].isError=!0,e.results[n].isSuccess=!1)},remove:function(e,t){var n=e.results.findIndex((function(e){return e.id===t.payload}));n>-1&&e.results.splice(n,1)},completed:function(e,t){var n=e.results.findIndex((function(e){return e.id===t.payload}));n>-1&&(e.results[n].isError=!1,e.results[n].isSuccess=!0)},pushToast:function(e,t){var n=Object(p.a)({id:"".concat(e.toasts.length,"_").concat(Date.now()),createdAt:Date.now()},t.payload);e.toasts.push(n)}}}),y=v,w=v.actions,N=w.add,S=w.completed,k=w.error,C=w.pushToast,L=w.remove,P=Object(u.a)({reducerPath:"HentaiApi",baseQuery:Object(j.d)({baseUrl:"/api/onlineapi"}),endpoints:function(e){return{getDoujin:e.query({query:function(e){return{url:"/doujin",params:{id:e}}}}),search:e.query({query:function(e){return{url:"/search",params:"string"===typeof e?{q:e}:e}}}),getHomepage:e.query({query:function(e){return{url:"/homepage",params:e}}})}}}),D=P,F=P.useGetHomepageQuery,H=P.useGetDoujinQuery,R=(P.useLazyGetHomepageQuery,P.useLazyGetDoujinQuery,P.useLazySearchQuery,P.usePrefetch,P.useSearchQuery),E=Object(d.a)({reducer:(a={},Object(o.a)(a,h.reducerPath,h.reducer),Object(o.a)(a,D.reducerPath,D.reducer),Object(o.a)(a,"downloads",y.reducer),a),middleware:function(e){return e().concat(h.middleware,D.middleware)}}),M=r.e,q=function(){return Object(r.d)()},I=E,z=n(88),Q=n(47),B=n(90),U=n(11),G=n(7),A=n(120),T=n(118),Y=n(38),_=n.n(Y),J=n(133),W=n(134),Z=n(117),X=n(2),K=function(e){return Object(X.jsx)(X.Fragment,{children:_.a.times(e.num||10,(function(e){return Object(X.jsxs)(J.a,{className:"bg-secondary",style:{width:"12rem"},children:[Object(X.jsx)(J.a.Img,{variant:"top",height:"190",src:"/loading.gif"}),Object(X.jsx)(J.a.Body,{className:"py-1 px-2",children:Object(X.jsx)(W.a,{as:J.a.Title,animation:"wave",children:Object(X.jsx)(W.a,{className:"mx-auto",bg:"info",xs:12})})})]},e)}))})},V=function(){return Object(X.jsx)("div",{style:{height:"100vh","--bs-bg-opacity":".5",width:"100vh"},className:"d-flex position-fixed top-0 start-0 w-100 align-items-center justify-content-center",children:Object(X.jsx)(Z.a,{variant:"primary",animation:"border",role:"status",children:Object(X.jsx)("span",{className:"visually-hidden",children:"Loading..."})})})},$=n(136),ee=n(28),te=function(e){var t=e.page,n=e.next,a=e.refresh,c=e.blur,i=e.current;return Object(X.jsxs)($.a,{className:"justify-content-center m-0",children:[Object(X.jsx)($.a.Item,{onClick:a,className:"me-3",children:Object(X.jsx)(ee.h,{})}),c&&Object(X.jsx)($.a.Item,{onClick:function(){c&&c[1]()},className:"me-3",children:c.slice()[0]?Object(X.jsx)(ee.c,{}):Object(X.jsx)(ee.d,{})}),Object(X.jsx)($.a.First,{onClick:function(){return n(new URLSearchParams({page:"1"}))},disabled:1===i}),Object(X.jsx)($.a.Prev,{onClick:function(){return n(new URLSearchParams({page:i-1}))},disabled:1===i}),t&&function(){var e=[],a=i,c=i+5;a-=4,c>(null===t||void 0===t?void 0:t.numPages)&&(c=null===t||void 0===t?void 0:t.numPages,a-=5-((null===t||void 0===t?void 0:t.numPages)-i)),a<0&&(a=0,c+=5-i-1);for(var s=function(t){e.push(Object(X.jsx)($.a.Item,{onClick:function(){return n(new URLSearchParams({page:t+1}))},active:i===t+1,children:t+1},t+1))},r=a;r<c;r++)s(r);return e}(),Object(X.jsx)($.a.Next,{onClick:function(){return n(new URLSearchParams({page:i+1}))},disabled:(null===t||void 0===t?void 0:t.numPages)===i}),Object(X.jsx)($.a.Last,{onClick:function(){return n(new URLSearchParams({page:null===t||void 0===t?void 0:t.numPages}))},disabled:(null===t||void 0===t?void 0:t.numPages)===i})]})},ne=n(5),ae=n.n(ne),ce=n(119);function ie(e){var t={};return e.forEach((function(e,n){t[n]=e})),t}var se={JAPANESE:"/japan_logo.svg",CHINESE:"/china_logo.svg",ENGLISH:"/us_logo.svg"};var re=function(e){var t,n,a,i,s,o,d=e.doujin,u=e.blur,j=(e.refetch,Object(T.a)(!1)),b=Object(G.a)(j,2),h=b[0],m=b[1],O=null===(t=d.thumbnail)||void 0===t?void 0:t.url;(null===(n=O)||void 0===n?void 0:n.match(/https?/i))&&(O="/api/fetch?url=".concat(null===(a=d.thumbnail)||void 0===a?void 0:a.url));var x=null===(i=d.tags)||void 0===i||null===(s=i.all)||void 0===s||null===(o=s.find((function(e){return e.type.match(/language/i)&&!e.name.match(/translated/i)})))||void 0===o?void 0:o.name,p=se[x.toUpperCase()],v=Object(r.d)(),y=f({refetchOnFocus:!1,refetchOnReconnect:!1}),w=Object(G.a)(y,2),P=w[0],D=w[1],F=g({refetchOnFocus:!1,refetchOnReconnect:!1}),H=Object(G.a)(F,2),R=H[0],E=H[1];return Object(c.useEffect)((function(){D.isSuccess&&(v(C({header:"Doujin Corner",message:"Successfully added ".concat(d.titles.pretty,"!"),delay:3e3})),v(S(d.id))),D.isError&&v(k(d.id)),E.isSuccess&&(v(C({header:"Doujin Corner",message:"Successfully removed ".concat(d.titles.pretty,"!"),delay:3e3})),v(L(d.id)))}),[E,D,v,d]),Object(X.jsxs)(J.a,{className:"bg-secondary position-relative",style:{width:"12rem"},children:[Object(X.jsx)(ce.a,{height:20,width:30,src:p,alt:x,className:"position-absolute top-0 start-0",style:{zIndex:5e3}}),Object(X.jsx)(J.a.Img,{variant:"top",height:"300",src:O,style:{filter:u[0]?"blur(2px)":void 0}}),Object(X.jsxs)("div",{className:"position-absolute top-0 end-0",children:[Object(X.jsx)(Q.a,{onClick:function(){(null===d||void 0===d?void 0:d.availableOffline)?(R(d.id.toString(),!1),v(C({header:"Doujin Corner",message:"Removing ".concat(null===d||void 0===d?void 0:d.titles.pretty),delay:3e3}))):(P(d.id.toString(),!1),v(C({header:"Doujin Corner",message:"Downloading ".concat(null===d||void 0===d?void 0:d.titles.pretty),delay:3e3})),v(N(d.id)))},className:"me-2 p-1",variant:"primary",children:Object(X.jsx)("small",{children:(null===d||void 0===d?void 0:d.availableOffline)?"Delete":"Download"})}),Object(X.jsx)(l.b,{className:"btn btn-danger p-1",to:"/manga/".concat(d.id),children:Object(X.jsx)("small",{children:"Read"})})]}),Object(X.jsx)(l.b,{onMouseOver:function(){m(!0)},onMouseOut:function(){m(!1)},className:"stretched-link",to:"/online/"+d.id,children:Object(X.jsx)(J.a.Body,{className:"pb-0 pt-1 position-absolute start-0 w-100 bg-dark bg-opacity-50 bottom-0",children:Object(X.jsx)(J.a.Title,{style:{fontSize:"16px",transition:"0.2s"},className:ae()("text-center text-white text-decoration-underline",!h&&"text-truncate"),children:d.titles.pretty})})})]})},le=function(){var e,t=Object(T.a)(!0),n=Object(l.c)(new URLSearchParams({page:"1"})),a=Object(G.a)(n,2),c=a[0],i=a[1],s=m({page:c.get("page")||1}),r=function(){return Object(X.jsx)(te,{refresh:function(){s.refetch()},next:i,page:null===s||void 0===s?void 0:s.data,blur:t,current:Number(c.get("page")||1)})};return Object(X.jsxs)(A.a,{className:"d-flex flex-column gap-2 py-2",children:[Object(X.jsx)(r,{}),Object(X.jsx)("div",{className:"d-flex flex-wrap gap-2 justify-content-center",children:s.isSuccess&&!s.isFetching?null===(e=s.data)||void 0===e?void 0:e.doujins.map((function(e){return Object(X.jsx)(re,{refetch:s.refetch,doujin:e,blur:t},e.id)})):Object(X.jsx)(K,{})}),Object(X.jsx)(r,{})]})},oe=n(137),de=n(121),ue=n(128),je=n(135),be=n(130),he=n(122),me=n(86),Oe=n(123),xe=n(78),fe=n(85),ge=n.n(fe),pe=function(e){var t="/gallery/".concat(e.item.id,"/").concat(ge.a.basename(e.item.thumbnail.url));return Object(X.jsxs)(oe.a.Item,{style:{height:"90px"},className:"d-flex bg-secondary bg-opacity-50 position-relative",children:[Object(X.jsx)(ce.a,{className:"flex-shrink-0 me-2 rounded",src:t,width:"60"}),Object(X.jsxs)(l.b,{className:"d-inline-block text-truncate stretched-link",to:"/manga/".concat(e.item.id),children:[Object(X.jsx)("div",{children:e.item.titles.pretty}),Object(X.jsxs)("div",{className:"d-flex flex-wrap",children:[_.a.take(e.item.tags.all.filter((function(e){return"tag"===e.type})),5).map((function(e){return Object(X.jsx)(de.a,{children:e.name})})),e.item.tags.all.length>5&&Object(X.jsxs)(de.a,{children:["...",e.item.tags.all.length-5," more"]})]})]})]})},ve=function(){var e,t,n=Object(c.useState)(""),a=Object(G.a)(n,2),i=a[0],s=a[1],r=Object(T.a)(!1),o=Object(G.a)(r,2),d=o[0],u=o[1],j=Object(T.a)(!1),b=Object(G.a)(j,2),h=b[0],m=b[1],O=Object(c.useState)("title"),f=Object(G.a)(O,2),g=f[0],p=f[1],v=Object(c.useMemo)((function(){return["artist","tag","language","category","parody","title"]}),[]),y=x({q:i,by:g});return Object(X.jsx)(ue.a,{expand:"lg",children:Object(X.jsxs)(A.a,{children:[Object(X.jsx)(l.b,{to:"/",children:Object(X.jsx)(ue.a.Brand,{children:Object(X.jsx)("img",{alt:"",src:"/favicon.png",height:"60",className:"d-inline-block align-top"})})}),Object(X.jsx)(ue.a.Toggle,{className:"bg-light","aria-controls":"nav"}),Object(X.jsxs)(ue.a.Collapse,{id:"nav",className:"justify-content-md-end py-2",children:[Object(X.jsx)(l.b,{className:"nav-link",to:"/online",children:"Online Mode"}),Object(X.jsx)(je.a.Link,{onClick:function(){d||(u(!0),window.fetch("/api/refresh?type=thumb").then((function(){return u(!1)})).catch((function(){return u(!1)})))},className:"nav-link",style:{pointerEvents:d&&"none"},children:"Reload Covers"}),Object(X.jsx)(je.a.Link,{onClick:function(){h||(m(!0),window.fetch("/api/refresh?type=all").then((function(){return m(!1)})).catch((function(){return m(!1)})))},className:"nav-link",style:{pointerEvents:h&&"none"},children:"Reload Mangas"}),Object(X.jsxs)(be.a,{className:"position-relative",children:[Object(X.jsxs)(he.a,{children:[Object(X.jsx)(me.a,{type:"search",placeholder:"Search",className:"me-2","aria-label":"Search",autoComplete:"none",value:i,onChange:function(e){return s(e.target.value)}}),Object(X.jsx)(Oe.a,{variant:"outline-secondary",title:g,id:"segmented-button-dropdown-2",align:"end",style:{zIndex:9999},children:v.filter((function(e){return e!==g})).map((function(e){return Object(X.jsx)(xe.a.Item,{onClick:function(){return p(e)},href:"#",children:e})}))})]}),Object(X.jsx)(J.a,{className:"position-absolute top-100 end-0 rounded mt-2 bg-opacity-0",style:{width:"450px",maxHeight:"400px",zIndex:9e3,display:i?void 0:"none"},children:Object(X.jsxs)(oe.a,{className:"overflow-auto bg-opacity-0",variant:"flush",children:[y.isFetching&&Object(X.jsx)(oe.a.Item,{className:"d-flex align-items-center justify-content-center bg-secondary position-relative",children:Object(X.jsx)(Z.a,{animation:"border",role:"status",children:Object(X.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}),!y.isFetching&&0===(null===y||void 0===y||null===(e=y.data)||void 0===e?void 0:e.length)&&Object(X.jsx)(oe.a.Item,{className:"d-flex align-items-center justify-content-center bg-secondary position-relative",children:"Nothing Found :("}),y.isSuccess&&(null===(t=y.data)||void 0===t?void 0:t.map((function(e,t){return Object(X.jsx)(pe,{item:e},e.id)})))]})})]})]})]})})},ye=function(){return Object(X.jsxs)("div",{style:{height:"100vh"},children:[Object(X.jsx)(ve,{}),Object(X.jsx)(le,{})]})},we=n.p+"static/media/temp2.5c1b4c28.png",Ne=function(){return Object(X.jsxs)("div",{className:"position-fixed top-0 start-0 container-fluid",style:{height:"100vh",display:"grid",placeItems:"center",alignContent:"center"},children:[Object(X.jsx)("h1",{className:"text-danger",children:"404 Not Found"}),Object(X.jsx)("img",{src:we,alt:"kono dio da",height:window.innerHeight/2}),Object(X.jsx)(Q.a,{variant:"info",className:"mt-2",onClick:function(){return window.history.back()},children:"Go Home Now"})]})},Se=n(125),ke=n(132),Ce=n(124),Le=function(e){var t,n=Object(T.a)(!1),a=Object(G.a)(n,2),i=a[0],s=a[1],r=Object(T.a)(!0),l=Object(G.a)(r,2),o=l[0],d=l[1],u=Object(T.a)(!0),j=Object(G.a)(u,2),b=j[0],h=j[1],m=Object(ke.a)(600,900,300),O=Object(G.a)(m,2),x=O[0],f=O[1],g=Object(Ce.a)((function(){var t;window.scrollY<document.body.scrollHeight?window.scrollBy({left:0,top:document.body.scrollHeight/(null===(t=e.manga)||void 0===t?void 0:t.pages.length)*.004,behavior:"smooth"}):s(!1)}),i),p=Object(G.a)(g,2),v=p[0],y=p[1];return Object(c.useEffect)((function(){return i?y():v(),function(){return v()}}),[i,y,v]),Object(c.useEffect)((function(){b?e.setBright("brightness(1)"):e.setBright("brightness(0.65)")}),[b,e]),Object(c.useEffect)((function(){e.setZoom("".concat(x||600,"px"))}),[x,e]),Object(X.jsxs)("div",{style:{zIndex:9999,height:"6rem"},className:"d-flex gap-2 position-fixed me-3 end-0 top-0 mt-3 ",children:[Object(X.jsxs)(J.a,{style:{maxWidth:o?"0":"21rem",overflowX:"hidden",transition:"0.2s"},className:"bg-secondary text-center",children:[Object(X.jsx)(J.a.Header,{className:"text-info text-truncate",children:(null===(t=e.manga)||void 0===t?void 0:t.titles.english)||"..."}),Object(X.jsxs)(J.a.Body,{className:"p-2 d-flex flex-wrap gap-2",children:[Object(X.jsx)(Q.a,{onClick:function(){f.inc(50)},variant:"outline-primary",className:"px-2 py-1 align-middle",children:Object(X.jsx)(ee.j,{alignmentBaseline:"central"})}),Object(X.jsx)(Q.a,{onClick:function(){f.dec(50)},variant:"outline-primary",className:"px-2 py-1 align-middle",children:Object(X.jsx)(ee.k,{alignmentBaseline:"central"})}),Object(X.jsx)(Q.a,{onClick:function(){return h()},variant:"outline-primary",className:"px-2 py-1 align-middle",children:b?Object(X.jsx)(ee.e,{alignmentBaseline:"central"}):Object(X.jsx)(ee.f,{alignmentBaseline:"central"})}),Object(X.jsx)(Q.a,{onClick:function(){return s()},variant:"outline-primary",className:"px-2 py-1 align-middle",children:!1===i?Object(X.jsx)(ee.g,{alignmentBaseline:"central"}):Object(X.jsx)(ee.i,{alignmentBaseline:"central"})})]})]}),Object(X.jsx)(Q.a,{onClick:d,className:"p-0",children:o?Object(X.jsx)(ee.b,{fontSize:"2rem"}):Object(X.jsx)(ee.a,{fontSize:"2rem"})})]})},Pe=function(e){return Object(X.jsx)("div",{children:Object(X.jsx)(ce.a,{src:e.src,alt:e.img.pageNumber+"."+e.img.extension,style:{width:"100%"},className:"rounded"})})},De=n(138),Fe=function(){var e,t,n=Object(U.g)().id,a=O(n),i=Object(c.useState)(window.scrollY/(document.body.scrollHeight-window.innerHeight)),s=Object(G.a)(i,2),r=s[0],l=s[1],o=Object(c.useState)(""),d=Object(G.a)(o,2),u=d[0],j=d[1],b=Object(c.useState)(""),h=Object(G.a)(b,2),m=h[0],x=h[1],f=Object(c.useState)(window.scrollY/(document.body.scrollHeight-window.innerHeight)),g=Object(G.a)(f,2),p=g[0],v=g[1];return Object(De.a)("scroll",(function(){l(window.scrollY/(document.body.scrollHeight-window.innerHeight)*100)})),Object(c.useEffect)((function(){v(window.scrollY/(document.body.scrollHeight-window.innerHeight))}),[u]),a.isFetching&&(document.title="Loading..."),Object(c.useEffect)((function(){a.isSuccess&&(document.title=a.data.titles.english)}),[null===(e=a.data)||void 0===e?void 0:e.titles,a.isSuccess]),"undefined"===typeof n||a.isError?Object(X.jsx)(Ne,{}):Object(X.jsxs)(X.Fragment,{children:[a.isSuccess&&Object(X.jsx)(Se.a,{style:{height:"5px",width:"100vh !important",zIndex:9999,position:"fixed",top:0,left:0,transition:"0.1s"},className:"rounded-0 w-100",now:r}),Object(X.jsxs)("div",{className:"container-fluid",style:{height:"100vh"},children:[a.isLoading&&Object(X.jsx)(V,{}),Object(X.jsx)(Le,{setZoom:j,setBright:x,manga:a.data}),Object(X.jsx)("div",{style:{maxWidth:u,filter:m,transition:"width 0.05s"},onTransitionEnd:function(){window.scrollTo(0,(document.body.scrollHeight-window.innerHeight)*p),console.log(window.scrollY/(document.body.scrollHeight-window.innerHeight))},className:"mx-auto d-flex flex-column align-items-stretch gap-2 mt-2",children:a.isSuccess&&(null===(t=a.data.pages)||void 0===t?void 0:t.map((function(e){var t,n,c="/api/fetch?url=".concat(e.url);(null===(t=a.data)||void 0===t?void 0:t.availableOffline)&&(c="/gallery/".concat(null===a||void 0===a||null===(n=a.data)||void 0===n?void 0:n.id,"/").concat(e.pageNumber,".").concat(e.extension),console.log("offline manga"));return Object(X.jsx)(Pe,{img:e,src:c},e.pageNumber)})))})]})]})},He=function(){var e=Object(c.useState)(""),t=Object(G.a)(e,2),n=t[0],a=(t[1],Object(c.useMemo)((function(){return[{to:"/online",text:"Homepage"},{to:"/online/downloads",text:"Downloads"},{to:"/",text:"Go Offline"},{to:"/online/search",text:"Search"}]}),[]));x(n);return Object(X.jsx)(ue.a,{expand:"lg",children:Object(X.jsxs)(A.a,{children:[Object(X.jsx)(l.b,{to:"/",children:Object(X.jsx)(ue.a.Brand,{children:Object(X.jsx)("img",{alt:"",src:"/favicon.png",height:"60",className:"d-inline-block align-top"})})}),Object(X.jsx)(ue.a.Toggle,{className:"bg-light","aria-controls":"nav"}),Object(X.jsx)(ue.a.Collapse,{id:"nav",className:"justify-content-md-end py-2",children:a.filter((function(e){return e.to!==window.location.pathname})).map((function(e){return Object(X.jsx)(l.b,{className:"nav-link",to:e.to,children:e.text},e.to)}))})]})})},Re=n(75),Ee=function(e){var t,n=Object(T.a)(!0),a=Object(c.useMemo)((function(){return _.a.toPairs(Re.SortMethods)}),[]),i=Object(l.c)(new URLSearchParams({page:"1",sort:""})),s=Object(G.a)(i,2),r=s[0],o=s[1],d=F(ie(r)),u=function(){return Object(X.jsx)(te,{refresh:function(){d.refetch()},next:function(e){return o(new URLSearchParams(Object(p.a)(Object(p.a)({},ie(r)),ie(e))))},page:null===d||void 0===d?void 0:d.data,blur:n,current:Number(r.get("page")||1)})};return Object(X.jsxs)(A.a,{className:"d-flex flex-column gap-3 py-2",children:[Object(X.jsx)(u,{}),Object(X.jsx)("div",{className:"d-flex justify-content-center gap-2",children:a.map((function(e){return Object(X.jsx)(Q.a,{variant:r.get("sort")===e[1]?"primary":"outline-primary",onClick:function(){return o(new URLSearchParams(Object(p.a)(Object(p.a)({},ie(r)),{},{sort:e[1]})))},children:e[0]},e[0])}))}),Object(X.jsx)("div",{className:"d-flex flex-wrap gap-4 justify-content-center",children:d.isSuccess&&!d.isFetching?null===(t=d.data)||void 0===t?void 0:t.doujins.map((function(e){return Object(X.jsx)(re,{refetch:d.refetch,doujin:e,blur:n},e.id)})):d.isError?Object(X.jsx)(X.Fragment,{children:Object(X.jsxs)("div",{className:"h-100 d-flex align-items-center justify-content-center flex-column mx-auto my-5",children:[Object(X.jsx)("h1",{children:"something went wrong..."}),Object(X.jsx)(Q.a,{className:"w-100",onClick:function(){d.refetch()},children:"Retry?"})]})}):Object(X.jsx)(K,{num:10})}),Object(X.jsx)(u,{})]})},Me=function(e){return Object(X.jsxs)("div",{style:{height:"100vh"},children:[Object(X.jsx)(He,{}),Object(X.jsx)(Ee,{})]})},qe=n(126),Ie=n(66),ze=n(129),Qe=n(89);ze.a.addDefaultLocale(Qe);var Be=new ze.a("en-US"),Ue=function(e){var t=e.doujin,n=e.type,a=e.children,i=Object(T.a)(!1),s=Object(G.a)(i,2),r=s[0],l=s[1];return Object(c.useEffect)((function(){(null===t||void 0===t?void 0:t.tags.all.filter((function(e){return e.type===n})).length)<1&&l(!0)}),[null===t||void 0===t?void 0:t.tags.all,l,n]),r?Object(X.jsx)(X.Fragment,{}):Object(X.jsx)("div",{className:"bg-light bg-opacity-75 text-dark rounded p-2 shadow",children:Object(X.jsxs)("span",{className:"d-inline-flex gap-2 flex-wrap align-items-center",children:[Object(X.jsx)("span",{className:"fw-bold",children:a}),null===t||void 0===t?void 0:t.tags.all.filter((function(e){return e.type===n})).map((function(e){return console.log(e.url),Object(X.jsxs)("a",{className:"btn btn-outline-secondary py-1 px-2",href:e.url,target:"_blank",rel:"noreferrer",children:[Object(X.jsx)("span",{className:"fst-italic me-2",children:e.name}),Object(X.jsx)(de.a,{bg:"secondary",children:e.count})]},e.id)}))]})})},Ge=function(e){var t,n,a,i,s=Object(U.g)().id,r=H(s),o=q(),d=f({refetchOnFocus:!1,refetchOnReconnect:!1}),u=Object(G.a)(d,2),j=u[0],b=u[1],h=g({refetchOnFocus:!1,refetchOnReconnect:!1}),m=Object(G.a)(h,2),O=m[0],x=m[1];return Object(c.useEffect)((function(){r.isSuccess&&(document.title=r.data.titles.pretty)}),[r]),Object(c.useEffect)((function(){if(r.isSuccess){var e,t,n,a,c;if(b.isSuccess)o(C({header:"Doujin Corner",message:"Successfully added ".concat(null===(e=r.data)||void 0===e?void 0:e.titles.pretty,"!"),delay:3e3})),r.refetch(),o(S(null===(t=r.data)||void 0===t?void 0:t.id));if(b.isError)o(k(null===(n=r.data)||void 0===n?void 0:n.id));if(x.isSuccess)o(C({header:"Doujin Corner",message:"Successfully removed ".concat(null===(a=r.data)||void 0===a?void 0:a.titles.pretty,"!"),delay:3e3})),o(L(null===(c=r.data)||void 0===c?void 0:c.id)),r.refetch()}}),[x,b,o,r]),Object(X.jsx)(A.a,{className:"w-75 py-4 bg-secondary bg-opacity-50 shadow rounded-2 my-3",children:r.isSuccess&&Object(X.jsxs)(qe.a,{className:"text-light",children:[Object(X.jsx)(Ie.a,{xs:5,children:Object(X.jsxs)("div",{className:"position-relative",children:[Object(X.jsx)(l.b,{to:"/manga/".concat(r.data.id),children:Object(X.jsx)(ce.a,{rounded:!0,style:{width:"100%",filter:"blur(3px)"},src:"/api/fetch?url=".concat(null===(t=r.data)||void 0===t?void 0:t.cover.url)})}),Object(X.jsxs)("div",{className:"position-absolute top-0 start-0",children:[Object(X.jsx)(Q.a,{onClick:function(){var e,t,n;(null===(e=r.data)||void 0===e?void 0:e.availableOffline)?(O(r.data.id.toString(),!1),o(C({header:"Doujin Corner",message:"Removing ".concat(null===(t=r.data)||void 0===t?void 0:t.titles.pretty),delay:3e3}))):(j(r.data.id.toString(),!1),o(C({header:"Doujin Corner",message:"Downloading ".concat(null===(n=r.data)||void 0===n?void 0:n.titles.pretty),delay:3e3})),o(N(r.data.id)))},className:"me-2",variant:"primary",children:(null===(n=r.data)||void 0===n?void 0:n.availableOffline)?"Delete":"Download"}),Object(X.jsx)(l.b,{className:"btn btn-danger",to:"/manga/".concat(r.data.id),children:"Read"})]})]})}),Object(X.jsxs)(Ie.a,{className:"py-2 d-flex flex-wrap align-items-start align-content-start gap-3",children:[Object(X.jsx)("div",{className:"lead bg-gradient bg-light bg-opacity-50 text-black rounded p-2 shadow flex-fill",children:function(){var e,t,n,a=null===(e=r.data)||void 0===e?void 0:e.titles.english.split(null===(t=r.data)||void 0===t?void 0:t.titles.pretty);return Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)("span",{className:"fst-italic",children:a[0]}),Object(X.jsx)("span",{className:"fw-bold",children:null===(n=r.data)||void 0===n?void 0:n.titles.pretty})," ",Object(X.jsx)("span",{className:"fst-italic",children:a[1]})]})}()}),Object(X.jsx)(Ue,{type:"tag",doujin:r.data,children:"Tags:"}),Object(X.jsx)(Ue,{type:"artist",doujin:r.data,children:"Artists:"}),Object(X.jsx)(Ue,{type:"group",doujin:r.data,children:"Groups:"}),Object(X.jsx)(Ue,{type:"language",doujin:r.data,children:"Languages:"}),Object(X.jsx)(Ue,{type:"category",doujin:r.data,children:"Categories:"}),Object(X.jsxs)("div",{className:"bg-light bg-opacity-75 text-dark rounded p-2 shadow",children:[Object(X.jsx)("span",{className:"fw-bold me-1 align-middle",children:"Pages:"}),Object(X.jsx)("span",{className:"btn btn-outline-secondary py-1",children:null===(a=r.data)||void 0===a?void 0:a.length})]}),Object(X.jsxs)("div",{className:"bg-light bg-opacity-75 text-dark rounded p-2 shadow",children:[Object(X.jsxs)("span",{className:"fw-bold me-1 align-middle",children:["Uploaded:"," "]}),Object(X.jsx)("span",{className:"btn btn-outline-secondary py-1",children:Be.format(new Date(null===(i=r.data)||void 0===i?void 0:i.uploadDate),"round-minute")})]})]})]})})},Ae=function(){var e=M((function(e){return e.downloads.results}));q();return console.log(e),Object(X.jsx)(X.Fragment,{})},Te=function(e){var t,n=Object(T.a)(!0),a=Object(c.useRef)(),i=Object(c.useMemo)((function(){return _.a.toPairs(Re.SortMethods)}),[]),s=Object(l.c)(new URLSearchParams({page:"1",sort:"",q:""})),r=Object(G.a)(s,2),o=r[0],d=r[1],u=R(ie(o)),j=function(){return Object(X.jsx)(te,{refresh:function(){u.refetch()},next:function(e){return d(new URLSearchParams(Object(p.a)(Object(p.a)({},ie(o)),ie(e))))},page:null===u||void 0===u?void 0:u.data,blur:n,current:Number(o.get("page")||1)})};return Object(X.jsxs)(A.a,{className:"d-flex flex-column gap-3 py-2",children:[Object(X.jsx)(be.a,{className:"container",onSubmit:function(e){var t;e.preventDefault(),d(Object(p.a)(Object(p.a)({},ie(o)),{},{q:null===(t=a.current)||void 0===t?void 0:t.value}))},children:Object(X.jsx)(me.a,{type:"search",placeholder:"Search","aria-label":"Search",autoComplete:"none",ref:a})}),Object(X.jsx)(j,{}),Object(X.jsx)("div",{className:"d-flex justify-content-center gap-2",children:i.map((function(e){return Object(X.jsx)(Q.a,{variant:o.get("sort")===e[1]?"primary":"outline-primary",onClick:function(){return d(new URLSearchParams(Object(p.a)(Object(p.a)({},ie(o)),{},{sort:e[1]})))},children:e[0]},e[0])}))}),Object(X.jsx)("div",{className:"d-flex flex-wrap gap-4 justify-content-center",children:u.isSuccess&&!u.isFetching?null===(t=u.data)||void 0===t?void 0:t.doujins.map((function(e){return Object(X.jsx)(re,{refetch:u.refetch,doujin:e,blur:n},e.id)})):u.isError?Object(X.jsx)(X.Fragment,{children:Object(X.jsxs)("div",{className:"h-100 d-flex align-items-center justify-content-center flex-column mx-auto my-5",children:[Object(X.jsx)("h1",{children:"Search something..."}),Object(X.jsx)(Q.a,{className:"w-100",onClick:function(){var e;null===(e=a.current)||void 0===e||e.focus()},children:"Search"})]})}):Object(X.jsx)(K,{num:10})}),Object(X.jsx)(j,{})]})},Ye=(n(105),function(){Object(U.e)();var e=Object(U.f)();return Object(X.jsx)(z.a,{vertical:!0,style:{right:"2rem",bottom:"3rem",position:"fixed"},children:Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(Q.a,{onClick:function(){return window.scroll({behavior:"smooth",top:0,left:0})},children:Object(X.jsx)(B.a,{fontSize:"3rem"})}),Object(X.jsx)(Q.a,{variant:"secondary",onClick:function(){return e("/")},children:"Go Back"})]})})}),_e=function(){return Object(X.jsx)(X.Fragment,{children:Object(X.jsxs)(U.c,{children:[Object(X.jsx)(U.a,{path:"/",caseSensitive:!0,element:Object(X.jsx)(ye,{})}),Object(X.jsx)(U.a,{path:"/manga",caseSensitive:!0,children:Object(X.jsx)(U.a,{path:":id",element:Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(Fe,{}),Object(X.jsx)(Ye,{})]})})}),Object(X.jsx)(U.a,{path:"/online",caseSensitive:!0,element:Object(X.jsx)(Me,{})}),Object(X.jsx)(U.a,{path:"/online/search",element:Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(He,{}),Object(X.jsx)(Te,{})]})}),Object(X.jsx)(U.a,{path:"/online/:id",element:Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(He,{}),Object(X.jsx)(Ge,{})]})}),Object(X.jsx)(U.a,{path:"/online/downloads",element:Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(He,{}),Object(X.jsx)(Ae,{})]})}),Object(X.jsx)(U.a,{path:"*",element:Object(X.jsx)(Ne,{})})]})})},Je=(n(106),n(131)),We=n(127),Ze=function(e){var t=Object(T.a)(!0),n=Object(G.a)(t,2),a=n[0],c=n[1];return Object(X.jsxs)(Je.a,{onClose:function(){return c(!1)},show:a,animation:!0,autohide:!!e.delay,delay:e.delay,children:[Object(X.jsxs)(Je.a.Header,{children:[Object(X.jsx)("img",{src:"/favicon.png",height:"20",className:"me-2",alt:"Logo"}),Object(X.jsx)("strong",{className:"me-auto",children:e.header}),Object(X.jsx)("small",{className:"text-muted",children:Be.format(e.createdAt)})]}),Object(X.jsx)(Je.a.Body,{children:e.message})]})},Xe=function(){var e=M((function(e){return e.downloads.toasts}));return Object(X.jsx)(We.a,{style:{zIndex:1e4},position:"bottom-end",className:"p-3 position-fixed",children:e.map((function(e){return Object(X.jsx)(Ze,Object(p.a)({},e),e.id)}))})};s.a.render(Object(X.jsxs)(r.a,{store:I,children:[Object(X.jsx)(Xe,{}),Object(X.jsx)(l.a,{children:Object(X.jsx)(_e,{})})]}),document.querySelector("#container"))}},[[107,1,2]]]);
//# sourceMappingURL=main.133272aa.chunk.js.map